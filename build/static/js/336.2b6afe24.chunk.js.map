{"version":3,"file":"static/js/336.2b6afe24.chunk.js","mappings":"uIACO,MAAMA,EAAa,CAEtBC,QAAS,CACLC,GAAI,UACJC,KAAM,YACNC,UAAW,oBACXC,SAAU,KAGdC,UAAW,CACPJ,GAAI,YACJC,KAAM,YACNC,UAAW,gBACXC,SAAU,KAGdE,KAAM,CACFL,GAAI,OACJC,KAAM,YACNC,UAAW,qBACXC,SAAU,MCnBX,MAAMG,EAST,iBAAaC,CAAKC,EAAcC,EAAMC,EAASC,GAC3C,MAAMC,EAAYD,EAAQC,WAAa,SAGvC,GAAkB,SAAdA,EACA,OAAOC,QAAQC,UAGnB,MAAMC,EAAajB,EAAWU,GAC9B,IAAKO,EAAY,OAAOF,QAAQC,UAShC,MAcME,EAdyB,SAAdJ,EAAuBG,EAAWZ,SAAiC,GAAtBY,EAAWZ,SAgBnEc,EAAWP,EAAQQ,IAAIC,GAAKC,SAASC,eAAe,aAADC,OAAcH,EAAEnB,MAAOuB,OAAOC,SACvF,GAAwB,IAApBP,EAASQ,OAAc,OAAOZ,QAAQC,UAG1CG,EAASS,QAAQC,IACbA,EAAGC,UAAUC,IAAId,EAAWb,mBAI1B,IAAIW,QAAQC,GAAWgB,WAAWhB,EAASE,IAGjDC,EAASS,QAAQC,IACbA,EAAGC,UAAUG,OAAOhB,EAAWb,YAEvC,E","sources":["data/animationskills.js","systems/AnimationSkill.js"],"sourcesContent":["\r\nexport const ANIMATIONS = {\r\n    // Healing: Green rising particles / glow\r\n    healing: {\r\n        id: 'healing',\r\n        type: 'css-class',\r\n        className: 'animate-heal-glow', // We need to define this in index.css\r\n        duration: 1000\r\n    },\r\n    // Attacking: Vibration / Shake\r\n    attacking: {\r\n        id: 'attacking',\r\n        type: 'css-class',\r\n        className: 'animate-shake', // We need to define this too\r\n        duration: 500\r\n    },\r\n    // Buff: Blue/Gold shine\r\n    buff: {\r\n        id: 'buff',\r\n        type: 'css-class',\r\n        className: 'animate-buff-shine',\r\n        duration: 800\r\n    }\r\n};\r\n","import { ANIMATIONS } from '../data/animationskills';\r\n\r\nexport class AnimationSkill {\r\n    /**\r\n     * Plays an animation for a set of targets.\r\n     * @param {string} animationKey - Key from ANIMATIONS (e.g., 'healing')\r\n     * @param {Character} user - The source of the skill\r\n     * @param {Character[]} targets - The targets\r\n     * @param {Object} context - Combat context (contains gameSpeed)\r\n     * @returns {Promise<void>}\r\n     */\r\n    static async play(animationKey, user, targets, context) {\r\n        const gameSpeed = context.gameSpeed || 'NORMAL';\r\n\r\n        // 1. Check Game Speed\r\n        if (gameSpeed === 'SKIP') {\r\n            return Promise.resolve();\r\n        }\r\n\r\n        const animConfig = ANIMATIONS[animationKey];\r\n        if (!animConfig) return Promise.resolve();\r\n\r\n        // 2. Identify Elements\r\n        // We need a way to find the DOM elements for these characters.\r\n        // In React, direct DOM manipulation is discouraged, but for transient visual effects \r\n        // that don't change state (just animations), adding a class temporarily is often \r\n        // the most performant and easiest way without complex state management for every particle.\r\n        // We will assume CharacterCard components have an ID attribute: `char-card-${id}`.\r\n\r\n        const duration = gameSpeed === 'FULL' ? animConfig.duration : animConfig.duration * 0.5; // Speed up in normal mode? \r\n        // Actually user said: \"Full option: do not skip any animation\". \r\n        // \"Skip means skipping all... except manual\".\r\n        // Let's assume NORMAL is standard speed, FULL is same or maybe slower? \r\n        // User: \"Add new \"Full\" option: do not skip any animation.\"\r\n        // This implies \"Normal\" might skip some? Or \"Normal\" is \"Full\"?\r\n        // Usually:\r\n        // SKIP: Instant\r\n        // NORMAL: Fast / abbreviated\r\n        // FULL: All details\r\n        // Let's map: \r\n        // SKIP: 0ms\r\n        // NORMAL: 50% duration? or 100%? Let's say 100% for now.\r\n\r\n        const finalDuration = duration;\r\n\r\n        const elements = targets.map(t => document.getElementById(`char-card-${t.id}`)).filter(Boolean);\r\n        if (elements.length === 0) return Promise.resolve();\r\n\r\n        // 3. Apply Animation\r\n        elements.forEach(el => {\r\n            el.classList.add(animConfig.className);\r\n        });\r\n\r\n        // 4. Wait\r\n        await new Promise(resolve => setTimeout(resolve, finalDuration));\r\n\r\n        // 5. Cleanup\r\n        elements.forEach(el => {\r\n            el.classList.remove(animConfig.className);\r\n        });\r\n    }\r\n}\r\n"],"names":["ANIMATIONS","healing","id","type","className","duration","attacking","buff","AnimationSkill","play","animationKey","user","targets","context","gameSpeed","Promise","resolve","animConfig","finalDuration","elements","map","t","document","getElementById","concat","filter","Boolean","length","forEach","el","classList","add","setTimeout","remove"],"sourceRoot":""}