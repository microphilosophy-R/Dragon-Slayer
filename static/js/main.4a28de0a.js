/*! For license information please see main.4a28de0a.js.LICENSE.txt */
(()=>{var e={671(e,t,n){"use strict";n.r(t),n.d(t,{bus:()=>r});const r=new class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(e=>e!==t))}emit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.listeners[e]&&[...this.listeners[e]].forEach(n=>{try{n(t)}catch(r){console.error("Error in handler for event '".concat(e,"':"),r)}})}async emitAsync(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.listeners[e])for(const r of[...this.listeners[e]])try{await r(t)}catch(n){console.error("Error in async handler for event '".concat(e,"':"),n)}}clear(){this.listeners={}}}},450(e,t,n){var r,a,i;a=[],void 0===(i="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,n){var o=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):a(l.href)?r(e,t,n):i(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(a(e))r(e,n,s);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){i(o)})}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var i="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,f=d.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,a):r)||(e.exports=i)},159(e,t,n){e.exports=function e(t,n,r){function a(s,o){if(!n[s]){if(!t[s]){if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return a(t[s][1][e]||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,t,n){"use strict";var r=e("./utils"),a=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,a,s,o,l,c,u=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,a=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),s=t>>2,o=(3&t)<<4|n>>4,l=1<h?(15&n)<<2|a>>6:64,c=2<h?63&a:64,u.push(i.charAt(s)+i.charAt(o)+i.charAt(l)+i.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,s,o,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&h--,e.charAt(e.length-2)===i.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=a.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=i.indexOf(e.charAt(c++))<<2|(s=i.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(o=i.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(l=i.indexOf(e.charAt(c++))),f[u++]=t,64!==o&&(f[u++]=n),64!==l&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),a=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function o(e,t,n,r,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=a}o.prototype={getContentWorker:function(){var e=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,n){return e.pipe(new i).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var i=a,s=r+n;e^=-1;for(var o=r;o<s;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var i=a,s=r+n;e^=-1;for(var o=r;o<s;o++)e=e>>>8^i[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),i=e("./utils"),s=e("./stream/GenericWorker"),o=r?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",i.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(o,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function a(e,t,n,a,s,u){var d,f,h=e.file,p=e.compression,m=u!==o.utf8encode,g=i.transformTo("string",u(h.name)),v=i.transformTo("string",o.utf8encode(h.name)),b=h.comment,y=i.transformTo("string",u(b)),x=i.transformTo("string",o.utf8encode(b)),_=v.length!==h.name.length,w=x.length!==b.length,k="",S="",E="",N=h.dir,j=h.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!_&&!w||(T|=2048);var A=0,z=0;N&&(A|=16),"UNIX"===s?(z=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,N)):(z=20,A|=function(e){return 63&(e||0)}(h.dosPermissions)),d=j.getUTCHours(),d<<=6,d|=j.getUTCMinutes(),d<<=5,d|=j.getUTCSeconds()/2,f=j.getUTCFullYear()-1980,f<<=4,f|=j.getUTCMonth()+1,f<<=5,f|=j.getUTCDate(),_&&(S=r(1,1)+r(l(g),4)+v,k+="up"+r(S.length,2)+S),w&&(E=r(1,1)+r(l(y),4)+x,k+="uc"+r(E.length,2)+E);var M="";return M+="\n\0",M+=r(T,2),M+=p.magic,M+=r(d,2),M+=r(f,2),M+=r(C.crc32,4),M+=r(C.compressedSize,4),M+=r(C.uncompressedSize,4),M+=r(g.length,2),M+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+g+k,dirRecord:c.CENTRAL_FILE_HEADER+r(z,2)+M+r(y.length,2)+"\0\0\0\0"+r(A,4)+r(a,4)+g+k+y}}var i=e("../utils"),s=e("../stream/GenericWorker"),o=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,s),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=a(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=a(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,a=function(e,t,n,a,s){var o=i.transformTo("string",s(a));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),a=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var i=new a(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,n){s++;var a=function(e,t){var n=e||t,a=r[n];if(!a)throw new Error(n+" is not a valid compression method !");return a}(n.options.compression,t.compression),o=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(a,o).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=s}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),a=e("./external"),i=e("./utf8"),s=e("./zipEntries"),o=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new a.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new o);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),l.isNode&&l.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[a.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var i=0;i<r.length;i++)n.push(c(r[i]));return a.Promise.all(n)}).then(function(e){for(var a=e.shift(),i=a.files,s=0;s<i.length;s++){var o=i[s],l=o.fileNameStr,c=r.resolve(o.fileNameStr);n.file(c,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(n.file(c).unsafeOriginalName=l)}return a.zipComment.length&&(n.comment=a.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),a=e("../stream/GenericWorker");function i(e,t){a.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(i,a),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function a(e,t,n){r.call(this,t),this._helper=e;var a=this;e.on("data",function(e,t){a.push(e)||a._helper.pause(),n&&n(t)}).on("error",function(e){a.emit("error",e)}).on("end",function(){a.push(null)})}e("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},t.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,a=i.getTypeOf(t),o=i.extend(n||{},l);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=m(e)),o.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===a&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!d),(t instanceof c&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",a="string");var v=null;v=t instanceof c||t instanceof s?t:f.isNode&&f.isStream(t)?new h(e,t):i.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var b=new u(e,v,o);this.files[e]=b}var a=e("./utf8"),i=e("./utils"),s=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var a=e;return this.filter(function(e,t){return!t.dir&&a.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new s("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function a(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(a,r),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===a)return i-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&a===i[3]},a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=a},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),a=e("../support"),i=e("./ArrayReader"),s=e("./StringReader"),o=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||a.uint8array?"nodebuffer"===t?new o(e):a.uint8array?new l(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),a=e("../utils");function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}a.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),a=e("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),a=e("./GenericWorker");function i(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,a),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),a=e("./GenericWorker");function i(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(i,a),i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),a=e("./ConvertWorker"),i=e("./GenericWorker"),s=e("../base64"),o=e("../support"),l=e("../external"),c=null;if(o.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise(function(n,a){var i=[],o=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",function(e,n){i.push(e),t&&t(n)}).on("error",function(e){i=[],a(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,a=null,i=0;for(n=0;n<t.length;n++)i+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(i),n=0;n<t.length;n++)a.set(t[n],r),r+=t[n].length;return a;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,i),c);n(e)}catch(e){a(e)}i=[]}).resume()})}function d(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,r.checkSupport(s),this._worker=e.pipe(new a(s)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),n.blob=0===a.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),a=e("./support"),i=e("./nodejsUtils"),s=e("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}o[254]=o[254]=1,n.utf8encode=function(e){return a.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,i,s,o=e.length,l=0;for(i=0;i<o;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=a.uint8array?new Uint8Array(l):new Array(l),i=s=0;s<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return a.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,a,i,s=e.length,l=new Array(2*s);for(t=n=0;t<s;)if((a=e[t++])<128)l[n++]=a;else if(4<(i=o[a]))l[n++]=65533,t+=i-1;else{for(a&=2===i?31:3===i?15:7;1<i&&t<s;)a=a<<6|63&e[t++],i--;1<i?l[n++]=65533:a<65536?l[n++]=a:(a-=65536,l[n++]=55296|a>>10&1023,l[n++]=56320|1023&a)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(a.uint8array?"uint8array":"array",e))},r.inherits(c,s),c.prototype.processChunk=function(e){var t=r.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}(t),l=t;s!==t.length&&(a.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),a=e("./base64"),i=e("./nodejsUtils"),s=e("./external");function o(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(t),a.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],a=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;a<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+n,i)))),a+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),a=!0;if("uint8array"===r?a=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(a=c.applyCanBeUsed.nodebuffer),a)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:o,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,i.allocBuffer(e.length))}},f.array={string:u,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return i.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var a=t[r];"."===a||""===a&&0!==r&&r!==t.length-1||(".."===a?n.pop():n.push(a))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,i,o,c){return s.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=a.decode(t):i&&!0!==o&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),i=e("./signature"),s=e("./zipEntry"),o=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",n=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),i=e("./compressedObject"),s=e("./crc32"),o=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<a;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(a)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var a=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),s=e("./utf8"),o=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(t=t.pipe(new s.Utf8EncodeWorker)),!i&&r&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new a(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)r.prototype[c[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,a=e.MutationObserver||e.WebKitMutationObserver;if(a){var i=0,s=new a(u),o=e.document.createTextNode("");s.observe(o,{characterData:!0}),n=function(){o.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function a(){}var i={},s=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==a&&h(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(r){return i.reject(e,r)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function a(t){n||(n=!0,i.resolve(e,t))}var s=p(function(){t(a,r)});"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(a);return this.state!==l?d(n,this.state===o?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=o,e.outcome=t;for(var a=-1,s=e.queue.length;++a<s;)e.queue[a].callFulfilled(t)}return e},i.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(a),e)},c.reject=function(e){var t=new this(a);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),o=0,l=-1,c=new this(a);++l<n;)u(e[l],l);return c;function u(e,a){t.resolve(e).then(function(e){s[a]=e,++o!==n||r||(r=!0,i.resolve(c,s))},function(e){r||(r=!0,i.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s,o=-1,l=new this(a);++o<n;)s=e[o],t.resolve(s).then(function(e){r||(r=!0,i.resolve(l,e))},function(e){r||(r=!0,i.reject(l,e))});return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),a=e("./utils/common"),i=e("./utils/strings"),s=e("./zlib/messages"),o=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=a.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(s[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new a.Buf8(u),o.next_out=0,o.avail_out=u),1!==(n=r.deflate(o,s))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(o.output,o.next_out))):this.onData(a.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==s||(this.onEnd(c),!(o.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),a=e("./utils/common"),i=e("./utils/strings"),s=e("./zlib/constants"),o=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(o[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(e,t){var n,o,l,c,d,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?h.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&m&&(f="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==s.Z_STREAM_END&&(0!==h.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(h.output,h.next_out),c=h.next_out-l,d=i.buf2string(h.output,l),h.next_out=c,h.avail_out=p-c,c&&a.arraySet(h.output,h.output,l,c,0),this.onData(d)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),a);else for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,s;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),t=a=0,n=e.length;t<n;t++)i=e[t],s.set(i,a),a+=i.length;return s}},i={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var s=new r.Buf8(256),o=0;o<256;o++)s[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,a,i,s,o=e.length,l=0;for(i=0;i<o;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),i=s=0;s<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(a=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(a-56320),i++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,a,i,o=t||e.length,c=new Array(2*o);for(n=r=0;n<o;)if((a=e[n++])<128)c[r++]=a;else if(4<(i=s[a]))c[r++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;1<i&&n<o;)a=a<<6|63&e[n++],i--;1<i?c[r++]=65533:a<65536?c[r++]=a:(a-=65536,c[r++]=55296|a>>10&1023,c[r++]=56320|1023&a)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var a=65535&e,i=e>>>16&65535,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;i=i+(a=a+t[r++]|0)|0,--s;);a%=65521,i%=65521}return a|i<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,a){var i=r,s=a+n;e^=-1;for(var o=a;o<s;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,a=e("../utils/common"),i=e("./trees"),s=e("./adler32"),o=e("./crc32"),l=e("./messages"),c=0,u=4,d=0,f=-2,h=-1,p=4,m=2,g=8,v=9,b=286,y=30,x=19,_=2*b+1,w=15,k=3,S=258,E=S+k+1,N=42,j=113,C=1,T=2,A=3,z=4;function M(e,t){return e.msg=l[t],t}function O(e){return(e<<1)-(4<e?9:0)}function I(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(a.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function P(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function R(e,t){e.pending_buf[e.pending++]=t}function L(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+S,h=c[i+s-1],p=c[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+s]===p&&c[n+s-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=S-(f-i),i=f-S,s<r){if(e.match_start=t,o<=(s=r))break;h=c[i+s-1],p=c[i+s]}}}while((t=d[t&u])>l&&0!=--a);return s<=e.lookahead?s:e.lookahead}function B(e){var t,n,r,i,l,c,u,d,f,h,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(a.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);i+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,h=void 0,(f=i)<(h=c.avail_in)&&(h=f),n=0===h?0:(c.avail_in-=h,a.arraySet(u,c.input,c.next_in,h,d),1===c.state.wrap?c.adler=s(c.adler,u,h,d):2===c.state.wrap&&(c.adler=o(c.adler,u,h,d)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<E){if(B(e),e.lookahead<E&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=F(e,n)),e.match_length>=k)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(P(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:T}function H(e,t){for(var n,r,a;;){if(e.lookahead<E){if(B(e),e.lookahead<E&&t===c)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-k,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(P(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&P(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(P(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:T}function W(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*_),this.dyn_dtree=new a.Buf16(2*(2*y+1)),this.bl_tree=new a.Buf16(2*(2*x+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(w+1),this.heap=new a.Buf16(2*b+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?N:j,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),d):M(e,f)}function q(e){var t=G(e);return t===d&&function(e){e.window_size=2*e.w_size,I(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function Z(e,t,n,r,i,s){if(!e)return f;var o=1;if(t===h&&(t=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),i<1||v<i||n!==g||r<8||15<r||t<0||9<t||s<0||p<s)return M(e,f);8===r&&(r=9);var l=new V;return(e.state=l).strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,q(e)}r=[new W(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===c)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,P(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-E&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?A:z):(e.strstart>e.block_start&&(P(e,!1),e.strm.avail_out),C)}),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,H),new W(8,16,32,32,H),new W(8,16,128,128,H),new W(8,32,128,256,H),new W(32,128,258,1024,H),new W(32,258,258,4096,H)],n.deflateInit=function(e,t){return Z(e,t,g,15,8,0)},n.deflateInit2=Z,n.deflateReset=q,n.deflateResetKeep=G,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,a,s,l;if(!e||!e.state||5<t||t<0)return e?M(e,f):f;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||666===a.status&&t!==u)return M(e,0===e.avail_out?-5:f);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===N)if(2===a.wrap)e.adler=0,R(a,31),R(a,139),R(a,8),a.gzhead?(R(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),R(a,255&a.gzhead.time),R(a,a.gzhead.time>>8&255),R(a,a.gzhead.time>>16&255),R(a,a.gzhead.time>>24&255),R(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),R(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(R(a,255&a.gzhead.extra.length),R(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=o(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(R(a,0),R(a,0),R(a,0),R(a,0),R(a,0),R(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),R(a,3),a.status=j);else{var h=g+(a.w_bits-8<<4)<<8;h|=(2<=a.strategy||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(h|=32),h+=31-h%31,a.status=j,L(a,h),0!==a.strstart&&(L(a,e.adler>>>16),L(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),D(e),s=a.pending,a.pending!==a.pending_buf_size));)R(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),D(e),s=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,R(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),0===l&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),D(e),s=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,R(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>s&&(e.adler=o(e.adler,a.pending_buf,a.pending-s,s)),0===l&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&D(e),a.pending+2<=a.pending_buf_size&&(R(a,255&e.adler),R(a,e.adler>>8&255),e.adler=0,a.status=j)):a.status=j),0!==a.pending){if(D(e),0===e.avail_out)return a.last_flush=-1,d}else if(0===e.avail_in&&O(t)<=O(n)&&t!==u)return M(e,-5);if(666===a.status&&0!==e.avail_in)return M(e,-5);if(0!==e.avail_in||0!==a.lookahead||t!==c&&666!==a.status){var p=2===a.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===c)return C;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:T}(a,t):3===a.strategy?function(e,t){for(var n,r,a,s,o=e.window;;){if(e.lookahead<=S){if(B(e),e.lookahead<=S&&t===c)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=o[a=e.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){s=e.strstart+S;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<s);e.match_length=S-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=i._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(P(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?A:z):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?C:T}(a,t):r[a.level].func(a,t);if(p!==A&&p!==z||(a.status=666),p===C||p===A)return 0===e.avail_out&&(a.last_flush=-1),d;if(p===T&&(1===t?i._tr_align(a):5!==t&&(i._tr_stored_block(a,0,0,!1),3===t&&(I(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),D(e),0===e.avail_out))return a.last_flush=-1,d}return t!==u?d:a.wrap<=0?1:(2===a.wrap?(R(a,255&e.adler),R(a,e.adler>>8&255),R(a,e.adler>>16&255),R(a,e.adler>>24&255),R(a,255&e.total_in),R(a,e.total_in>>8&255),R(a,e.total_in>>16&255),R(a,e.total_in>>24&255)):(L(a,e.adler>>>16),L(a,65535&e.adler)),D(e),0<a.wrap&&(a.wrap=-a.wrap),0!==a.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==N&&69!==t&&73!==t&&91!==t&&103!==t&&t!==j&&666!==t?M(e,f):(e.state=null,t===j?M(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,i,o,l,c,u,h,p=t.length;if(!e||!e.state)return f;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==N||n.lookahead)return f;for(1===o&&(e.adler=s(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(I(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new a.Buf8(n.w_size),a.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,B(n);n.lookahead>=k;){for(r=n.strstart,i=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=k-1,B(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=o,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,a,i,s,o,l,c,u,d,f,h,p,m,g,v,b,y,x,_,w,k,S,E,N;n=e.state,r=e.next_in,E=e.input,a=r+(e.avail_in-5),i=e.next_out,N=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(h+=E[r++]<<p,p+=8,h+=E[r++]<<p,p+=8),y=m[h&v];t:for(;;){if(h>>>=x=y>>>24,p-=x,0===(x=y>>>16&255))N[i++]=65535&y;else{if(!(16&x)){if(0==(64&x)){y=m[(65535&y)+(h&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&y,(x&=15)&&(p<x&&(h+=E[r++]<<p,p+=8),_+=h&(1<<x)-1,h>>>=x,p-=x),p<15&&(h+=E[r++]<<p,p+=8,h+=E[r++]<<p,p+=8),y=g[h&b];n:for(;;){if(h>>>=x=y>>>24,p-=x,!(16&(x=y>>>16&255))){if(0==(64&x)){y=g[(65535&y)+(h&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&y,p<(x&=15)&&(h+=E[r++]<<p,(p+=8)<x&&(h+=E[r++]<<p,p+=8)),l<(w+=h&(1<<x)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=x,p-=x,(x=i-s)<w){if(u<(x=w-x)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=f,(k=0)===d){if(k+=c-x,x<_){for(_-=x;N[i++]=f[k++],--x;);k=i-w,S=N}}else if(d<x){if(k+=c+d-x,(x-=d)<_){for(_-=x;N[i++]=f[k++],--x;);if(k=0,d<_){for(_-=x=d;N[i++]=f[k++],--x;);k=i-w,S=N}}}else if(k+=d-x,x<_){for(_-=x;N[i++]=f[k++],--x;);k=i-w,S=N}for(;2<_;)N[i++]=S[k++],N[i++]=S[k++],N[i++]=S[k++],_-=3;_&&(N[i++]=S[k++],1<_&&(N[i++]=S[k++]))}else{for(k=i-w;N[i++]=N[k++],N[i++]=N[k++],N[i++]=N[k++],2<(_-=3););_&&(N[i++]=N[k++],1<_&&(N[i++]=N[k++]))}break}}break}}while(r<a&&i<o);r-=_=p>>3,h&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<o?o-i+257:257-(i-o),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),a=e("./adler32"),i=e("./crc32"),s=e("./inffast"),o=e("./inftrees"),l=1,c=2,u=0,d=-2,f=1,h=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):d}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):d}function y(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,b(e))):d}function x(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=y(e,t))!==u&&(e.state=null),n):d}var _,w,k=!0;function S(e){if(k){var t;for(_=new r.Buf32(512),w=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(l,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(c,e.lens,0,32,w,0,e.work,{bits:5}),k=!1}e.lencode=_,e.lenbits=9,e.distcode=w,e.distbits=5}function E(e,t,n,a){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),a>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(a<(i=s.wsize-s.wnext)&&(i=a),r.arraySet(s.window,t,n-a,i,s.wnext),(a-=i)?(r.arraySet(s.window,t,n-a,a,0),s.wnext=a,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}n.inflateReset=b,n.inflateReset2=y,n.inflateResetKeep=v,n.inflateInit=function(e){return x(e,15)},n.inflateInit2=x,n.inflate=function(e,t){var n,h,p,g,v,b,y,x,_,w,k,N,j,C,T,A,z,M,O,I,D,P,R,L,F=0,B=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,p=e.output,y=e.avail_out,g=e.next_in,h=e.input,b=e.avail_in,x=n.hold,_=n.bits,w=b,k=y,P=u;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(2&n.wrap&&35615===x){B[n.check=0]=255&x,B[1]=x>>>8&255,n.check=i(n.check,B,2,0),_=x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",n.mode=30;break}if(_-=4,D=8+(15&(x>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&x?10:12,_=x=0;break;case 2:for(;_<16;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(n.flags=x,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(B[0]=255&x,B[1]=x>>>8&255,n.check=i(n.check,B,2,0)),_=x=0,n.mode=3;case 3:for(;_<32;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}n.head&&(n.head.time=x),512&n.flags&&(B[0]=255&x,B[1]=x>>>8&255,B[2]=x>>>16&255,B[3]=x>>>24&255,n.check=i(n.check,B,4,0)),_=x=0,n.mode=4;case 4:for(;_<16;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(B[0]=255&x,B[1]=x>>>8&255,n.check=i(n.check,B,2,0)),_=x=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(B[0]=255&x,B[1]=x>>>8&255,n.check=i(n.check,B,2,0)),_=x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(b<(N=n.length)&&(N=b),N&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,g,N,D)),512&n.flags&&(n.check=i(n.check,h,N,g)),b-=N,g+=N,n.length-=N),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===b)break e;for(N=0;D=h[g+N++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&N<b;);if(512&n.flags&&(n.check=i(n.check,h,N,g)),b-=N,g+=N,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===b)break e;for(N=0;D=h[g+N++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&N<b;);if(512&n.flags&&(n.check=i(n.check,h,N,g)),b-=N,g+=N,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}_=x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}e.adler=n.check=m(x),_=x=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=y,e.next_in=g,e.avail_in=b,n.hold=x,n.bits=_,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){x>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}switch(n.last=1&x,_-=1,3&(x>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==t)break;x>>>=2,_-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}x>>>=2,_-=2;break;case 14:for(x>>>=7&_,_-=7&_;_<32;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&x,_=x=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(N=n.length){if(b<N&&(N=b),y<N&&(N=y),0===N)break e;r.arraySet(p,h,g,N,v),b-=N,g+=N,y-=N,v+=N,n.length-=N;break}n.mode=12;break;case 17:for(;_<14;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(n.nlen=257+(31&x),x>>>=5,_-=5,n.ndist=1+(31&x),x>>>=5,_-=5,n.ncode=4+(15&x),x>>>=4,_-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}n.lens[U[n.have++]]=7&x,x>>>=3,_-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},P=o(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(F=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,z=65535&F,!((T=F>>>24)<=_);){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(z<16)x>>>=T,_-=T,n.lens[n.have++]=z;else{if(16===z){for(L=T+2;_<L;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(x>>>=T,_-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],N=3+(3&x),x>>>=2,_-=2}else if(17===z){for(L=T+3;_<L;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}_-=T,D=0,N=3+(7&(x>>>=T)),x>>>=3,_-=3}else{for(L=T+7;_<L;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}_-=T,D=0,N=11+(127&(x>>>=T)),x>>>=7,_-=7}if(n.have+N>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;N--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},P=o(l,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},P=o(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=b&&258<=y){e.next_out=v,e.avail_out=y,e.next_in=g,e.avail_in=b,n.hold=x,n.bits=_,s(e,k),v=e.next_out,p=e.output,y=e.avail_out,g=e.next_in,h=e.input,b=e.avail_in,x=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(F=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,z=65535&F,!((T=F>>>24)<=_);){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(A&&0==(240&A)){for(M=T,O=A,I=z;A=(F=n.lencode[I+((x&(1<<M+O)-1)>>M)])>>>16&255,z=65535&F,!(M+(T=F>>>24)<=_);){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}x>>>=M,_-=M,n.back+=M}if(x>>>=T,_-=T,n.back+=T,n.length=z,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(L=n.extra;_<L;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(F=n.distcode[x&(1<<n.distbits)-1])>>>16&255,z=65535&F,!((T=F>>>24)<=_);){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(0==(240&A)){for(M=T,O=A,I=z;A=(F=n.distcode[I+((x&(1<<M+O)-1)>>M)])>>>16&255,z=65535&F,!(M+(T=F>>>24)<=_);){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}x>>>=M,_-=M,n.back+=M}if(x>>>=T,_-=T,n.back+=T,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=z,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(L=n.extra;_<L;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===y)break e;if(N=k-y,n.offset>N){if((N=n.offset-N)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}j=N>n.wnext?(N-=n.wnext,n.wsize-N):n.wnext-N,N>n.length&&(N=n.length),C=n.window}else C=p,j=v-n.offset,N=n.length;for(y<N&&(N=y),y-=N,n.length-=N;p[v++]=C[j++],--N;);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;p[v++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===b)break e;b--,x|=h[g++]<<_,_+=8}if(k-=y,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?i(n.check,p,k,v-k):a(n.check,p,k,v-k)),k=y,(n.flags?x:m(x))!==n.check){e.msg="incorrect data check",n.mode=30;break}_=x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===b)break e;b--,x+=h[g++]<<_,_+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}_=x=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;default:return d}return e.next_out=v,e.avail_out=y,e.next_in=g,e.avail_in=b,n.hold=x,n.bits=_,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?i(n.check,p,k,e.next_out-k):a(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===k||4===t)&&P===u&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&a(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,d,f){var h,p,m,g,v,b,y,x,_,w=f.bits,k=0,S=0,E=0,N=0,j=0,C=0,T=0,A=0,z=0,M=0,O=null,I=0,D=new r.Buf16(16),P=new r.Buf16(16),R=null,L=0;for(k=0;k<=15;k++)D[k]=0;for(S=0;S<l;S++)D[t[n+S]]++;for(j=w,N=15;1<=N&&0===D[N];N--);if(N<j&&(j=N),0===N)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(E=1;E<N&&0===D[E];E++);for(j<E&&(j=E),k=A=1;k<=15;k++)if(A<<=1,(A-=D[k])<0)return-1;if(0<A&&(0===e||1!==N))return-1;for(P[1]=0,k=1;k<15;k++)P[k+1]=P[k]+D[k];for(S=0;S<l;S++)0!==t[n+S]&&(d[P[t[n+S]]++]=S);if(b=0===e?(O=R=d,19):1===e?(O=a,I-=257,R=i,L-=257,256):(O=s,R=o,-1),k=E,v=u,T=S=M=0,m=-1,g=(z=1<<(C=j))-1,1===e&&852<z||2===e&&592<z)return 1;for(;;){for(y=k-T,_=d[S]<b?(x=0,d[S]):d[S]>b?(x=R[L+d[S]],O[I+d[S]]):(x=96,0),h=1<<k-T,E=p=1<<C;c[v+(M>>T)+(p-=h)]=y<<24|x<<16|_,0!==p;);for(h=1<<k-1;M&h;)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,S++,0==--D[k]){if(k===N)break;k=t[n+d[S]]}if(j<k&&(M&g)!==m){for(0===T&&(T=j),v+=E,A=1<<(C=k-T);C+T<N&&!((A-=D[C+T])<=0);)C++,A<<=1;if(z+=1<<C,1===e&&852<z||2===e&&592<z)return 1;c[m=M&g]=j<<24|C<<16|v-u}}return 0!==M&&(c[v+M]=k-T<<24|64<<16),f.bits=j,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),a=0,i=1;function s(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,l=29,c=256,u=c+1+l,d=30,f=19,h=2*u+1,p=15,m=16,g=7,v=256,b=16,y=17,x=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(u+2));s(E);var N=new Array(2*d);s(N);var j=new Array(512);s(j);var C=new Array(256);s(C);var T=new Array(l);s(T);var A,z,M,O=new Array(d);function I(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e){return e<256?j[e]:j[256+(e>>>7)]}function R(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function L(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){L(e,n[2*t],n[2*t+1])}function B(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,a,i=new Array(p+1),s=0;for(r=1;r<=p;r++)i[r]=s=s+n[r-1]<<1;for(a=0;a<=t;a++){var o=e[2*a+1];0!==o&&(e[2*a]=B(i[o]++,o))}}function H(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?R(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function G(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&V(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!V(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function q(e,t,n){var r,a,i,s,o=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],a=e.pending_buf[e.l_buf+o],o++,0===r?F(e,a,t):(F(e,(i=C[a])+c+1,t),0!==(s=_[i])&&L(e,a-=T[i],s),F(e,i=P(--r),n),0!==(s=w[i])&&L(e,r-=O[i],s)),o<e.last_lit;);F(e,v,t)}function Z(e,t){var n,r,a,i=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=s[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)G(e,i,n);for(a=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,G(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,s,o,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(i=0;i<=p;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)g<(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(i=g,v++),l[2*r+1]=i,c<r||(e.bl_count[i]++,s=0,m<=r&&(s=f[r-m]),o=l[2*r],e.opt_len+=o*(i+s),d&&(e.static_len+=o*(u[2*r+1]+s)));if(0!==v){do{for(i=g-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(i=g;0!==i;i--)for(r=e.bl_count[i];0!==r;)c<(a=e.heap[--n])||(l[2*a+1]!==i&&(e.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),r--)}}(e,t),U(i,c,e.bl_count)}function K(e,t,n){var r,a,i=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=t[2*(r+1)+1],++o<l&&a===s||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*y]++:e.bl_tree[2*x]++,i=a,c=(o=0)===s?(l=138,3):a===s?(l=6,3):(l=7,4))}function Y(e,t,n){var r,a,i=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(a=s,s=t[2*(r+1)+1],!(++o<l&&a===s)){if(o<c)for(;F(e,a,e.bl_tree),0!=--o;);else 0!==a?(a!==i&&(F(e,a,e.bl_tree),o--),F(e,b,e.bl_tree),L(e,o-3,2)):o<=10?(F(e,y,e.bl_tree),L(e,o-3,3)):(F(e,x,e.bl_tree),L(e,o-11,7));i=a,c=(o=0)===s?(l=138,3):a===s?(l=6,3):(l=7,4)}}s(O);var $=!1;function Q(e,t,n,a){L(e,(o<<1)+(a?1:0),3),function(e,t,n,a){W(e),a&&(R(e,n),R(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){$||(function(){var e,t,n,r,a,i=new Array(p+1);for(r=n=0;r<l-1;r++)for(T[r]=n,e=0;e<1<<_[r];e++)C[n++]=r;for(C[n-1]=r,r=a=0;r<16;r++)for(O[r]=a,e=0;e<1<<w[r];e++)j[a++]=r;for(a>>=7;r<d;r++)for(O[r]=a<<7,e=0;e<1<<w[r]-7;e++)j[256+a++]=r;for(t=0;t<=p;t++)i[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,i[8]++;for(;e<=255;)E[2*e+1]=9,e++,i[9]++;for(;e<=279;)E[2*e+1]=7,e++,i[7]++;for(;e<=287;)E[2*e+1]=8,e++,i[8]++;for(U(E,u+1,i),e=0;e<d;e++)N[2*e+1]=5,N[2*e]=B(e,5);A=new I(E,_,c+1,u,p),z=new I(N,w,0,d,p),M=new I(new Array(0),k,0,f,g)}(),$=!0),e.l_desc=new D(e.dyn_ltree,A),e.d_desc=new D(e.dyn_dtree,z),e.bl_desc=new D(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,H(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var s,o,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return i;return a}(e)),Z(e,e.l_desc),Z(e,e.d_desc),l=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=s&&(s=o)):s=o=n+5,n+4<=s&&-1!==t?Q(e,t,n,r):4===e.strategy||o===s?(L(e,2+(r?1:0),3),q(e,E,N)):(L(e,4+(r?1:0),3),function(e,t,n,r){var a;for(L(e,t-257,5),L(e,n-1,5),L(e,r-4,4),a=0;a<r;a++)L(e,e.bl_tree[2*S[a]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),q(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&W(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+c+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){L(e,2,3),F(e,v,E),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,a,i,s=1,o={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){a.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[s]=a,n(s),s++},u.clearImmediate=d}function d(e){delete o[e]}function f(e){if(l)setTimeout(f,0,e);else{var n=o[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),l=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&f(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},730(e,t,n){"use strict";var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P,R=Object.assign;function L(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function U(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case z:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ee(e){if(e=ya(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=_a(t),we(e.stateNode,e.type,t))}}function Ne(e){ke?Se?Se.push(e):Se=[e]:ke=e}function je(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ae=!1;function ze(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==ke||null!==Se)&&(Te(),je())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=_a(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Oe=!1}function De(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Re=null,Le=!1,Fe=null,Be={onError:function(e){Pe=!0,Re=e}};function Ue(e,t,n,r,a,i,s,o,l){Pe=!1,Re=null,De.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ve(a),e;if(s===r)return Ve(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,kt,St,Et,Nt=!1,jt=[],Ct=null,Tt=null,At=null,zt=new Map,Mt=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Pt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ba(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==At&&Lt(At)&&(At=null),zt.forEach(Ft),Mt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<jt.length){Ut(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Tt&&Ut(Tt,e),null!==At&&Ut(At,e),zt.forEach(t),Mt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Rt(n),null===n.blockedOn&&Ot.shift()}var Wt=x.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var a=yt,i=Wt.transition;Wt.transition=null;try{yt=1,Zt(e,t,n,r)}finally{yt=a,Wt.transition=i}}function qt(e,t,n,r){var a=yt,i=Wt.transition;Wt.transition=null;try{yt=4,Zt(e,t,n,r)}finally{yt=a,Wt.transition=i}}function Zt(e,t,n,r){if(Vt){var a=Yt(e,t,n,r);if(null===a)Vr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Pt(Ct,e,t,n,r,a),!0;case"dragenter":return Tt=Pt(Tt,e,t,n,r,a),!0;case"mouseover":return At=Pt(At,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return zt.set(i,Pt(zt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Mt.set(i,Pt(Mt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=ya(a);if(null!==i&&_t(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=ba(e=_e(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=R({},cn,{view:0,detail:0}),fn=an(dn),hn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(hn),mn=an(R({},hn,{dataTransfer:0})),gn=an(R({},dn,{relatedTarget:0})),vn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),xn=an(R({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Nn=R({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=an(Nn),Cn=an(R({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=R({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(zn),On=[9,13,27,32],In=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Pn=u&&"TextEvent"in window&&!Dn,Rn=u&&(!In||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Zn=null;function Kn(e){Lr(e,0)}function Yn(e){if(Z(xa(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Zn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Zn)){var t=[];Gn(t,Zn,e,_e(e)),ze(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Zn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Nr=Er("animationend"),jr=Er("animationiteration"),Cr=Er("animationstart"),Tr=Er("transitionend"),Ar=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<zr.length;Or++){var Ir=zr[Or];Mr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Mr(Nr,"onAnimationEnd"),Mr(jr,"onAnimationIteration"),Mr(Cr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(Ue.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=Re;Pe=!1,Re=null,Le||(Le=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Rr(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Rr(a,o,c),i=l}}}if(Le)throw e=Fe,Le=!1,Fe=null,e}function Fr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(Pr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch($t(t)){case 1:var a=Gt;break;case 4:a=qt;break;default:a=Zt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}ze(function(){var r=i,a=_e(n),s=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Nr:case jr:case Cr:l=vn;break;case Tr:l=An;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==o?o+"Capture":null:o;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Me(p,f))&&u.push(Gr(p,m,h)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?o:xa(l),h=null==c?o:xa(c),(o=new u(m,p+"leave",l,n,a)).target=d,o.relatedTarget=h,m=null,ba(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Zr(h))p++;for(h=0,m=f;m;m=Zr(m))h++;for(;0<p-h;)u=Zr(u),p--;for(;0<h-p;)f=Zr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Zr(u),f=Zr(f)}u=null}else u=null;null!==l&&Kr(s,o,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(o=r?xa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Vn(o))if(Qn)g=sr;else{g=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(s,g,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xa(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,a)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=en()):(Xt="value"in(Qt=a)?Qt.value:Qt.textContent,Hn=!0)),0<(v=qr(r,y)).length&&(y=new xn(y,e,null,n,a),s.push({event:y,listeners:v}),b?y.data=b:null!==(b=Un(n))&&(y.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Jt=Xt=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=b))}Lr(s,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Me(e,n))&&r.unshift(Gr(e,i,a)),null!=(i=Me(e,t))&&r.push(Gr(e,i,a))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Me(n,i))&&s.unshift(Gr(n,l,o)):a||null!=(l=Me(n,i))&&s.push(Gr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ht(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _a(e){return e[ha]||null}var wa=[],ka=-1;function Sa(e){return{current:e}}function Ea(e){0>ka||(e.current=wa[ka],wa[ka]=null,ka--)}function Na(e,t){ka++,wa[ka]=e.current,e.current=t}var ja={},Ca=Sa(ja),Ta=Sa(!1),Aa=ja;function za(e,t){var n=e.type.contextTypes;if(!n)return ja;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ea(Ta),Ea(Ca)}function Ia(e,t,n){if(Ca.current!==ja)throw Error(i(168));Na(Ca,t),Na(Ta,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return R({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ja,Aa=Ca.current,Na(Ca,e),Na(Ta,Ta.current),!0}function Ra(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Da(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ea(Ta),Ea(Ca),Na(Ca,e)):Ea(Ta),Na(Ta,n)}var La=null,Fa=!1,Ba=!1;function Ua(e){null===La?La=[e]:La.push(e)}function Ha(){if(!Ba&&null!==La){Ba=!0;var e=0,t=yt;try{var n=La;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Fa=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),Ze(Je,Ha),a}finally{yt=t,Ba=!1}}return null}var Wa=[],Va=0,Ga=null,qa=0,Za=[],Ka=0,Ya=null,$a=1,Qa="";function Xa(e,t){Wa[Va++]=qa,Wa[Va++]=Ga,Ga=e,qa=t}function Ja(e,t,n){Za[Ka++]=$a,Za[Ka++]=Qa,Za[Ka++]=Ya,Ya=e;var r=$a;e=Qa;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,$a=1<<32-st(t)+a|n<<a|r,Qa=i+e}else $a=1<<i|n<<a|r,Qa=e}function ei(e){null!==e.return&&(Xa(e,1),Ja(e,1,0))}function ti(e){for(;e===Ga;)Ga=Wa[--Va],Wa[Va]=null,qa=Wa[--Va],Wa[Va]=null;for(;e===Ya;)Ya=Za[--Ka],Za[Ka]=null,Qa=Za[--Ka],Za[Ka]=null,$a=Za[--Ka],Za[Ka]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:$a,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&bi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Rc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case w:return(t=Rc(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?u(e,t,n,r):null;case M:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function m(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(a,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(a,d),ai&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=f(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Xa(a,m),c}function g(a,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=h(a,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(a,m),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(a,m),ai&&Xa(a,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=f(a,b.value,c))&&(o=s(b,o,g),null===d?u=b:d.sibling=b,d=b);return ai&&Xa(a,g),u}for(m=r(a,m);!b.done;g++,b=l.next())null!==(b=p(m,a,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(a,e)}),ai&&Xa(a,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(i=a(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&bi(c)===u.type){n(r,u.sibling),(i=a(u,s.props)).ref=gi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((i=Ic(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=gi(r,i,s),l.return=r,r=l)}return o(r);case w:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Rc(s,r.mode,l)).return=r,r=i}return o(r);case M:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(D(s))return g(r,i,s,l);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Pc(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var xi=yi(!0),_i=yi(!1),wi=Sa(null),ki=null,Si=null,Ei=null;function Ni(){Ei=Si=ki=null}function ji(e){var t=wi.current;Ea(wi),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){ki=e,Ei=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===ki)throw Error(i(308));Si=e,ki.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var zi=null;function Mi(e){null===zi?zi=[e]:zi.push(e)}function Oi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Mi(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ii(e,n)}return null===(a=r.interleaved)?(t.next=t,Mi(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ii(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var a=e.updateQueue;Di=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var f=o.lane,h=o.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=R({},d,f);break e;case 2:Di=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=f;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Vi={},Gi=Sa(Vi),qi=Sa(Vi),Zi=Sa(Vi);function Ki(e){if(e===Vi)throw Error(i(174));return e}function Yi(e,t){switch(Na(Zi,t),Na(qi,e),Na(Gi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Gi),Na(Gi,t)}function $i(){Ea(Gi),Ea(qi),Ea(Zi)}function Qi(e){Ki(Zi.current);var t=Ki(Gi.current),n=le(t,e.type);t!==n&&(Na(qi,e),Na(Gi,n))}function Xi(e){qi.current===e&&(Ea(Gi),Ea(qi))}var Ji=Sa(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=x.ReactCurrentDispatcher,as=x.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,fs=0;function hs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Xs:Js,e=n(r,a),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(us)}if(rs.current=Qs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((is&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,o=r):c=c.next=f,ss.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Dl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ws(){}function ks(e,t){var n=ss,r=bs(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,yo=!0),r=r.queue,Ds(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,As(9,Es.bind(null,n,r,a,t),void 0,null),null===Cl)throw Error(i(349));0!==(30&is)||Ss(n,t,a)}return a}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Cs(e)}function Ns(e,t,n){return n(function(){js(t)&&Cs(e)})}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Cs(e){var t=Ii(e,1);null!==t&&tc(t,e,1,-1)}function Ts(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,ss,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return bs().memoizedState}function Ms(e,t,n,r){var a=vs();ss.flags|=e,a.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var a=bs();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&ps(r,s.deps))return void(a.memoizedState=As(t,n,i,r))}ss.flags|=e,a.memoizedState=As(1|t,n,i,r)}function Is(e,t){return Ms(8390656,8,e,t)}function Ds(e,t){return Os(2048,8,e,t)}function Ps(e,t){return Os(4,2,e,t)}function Rs(e,t){return Os(4,4,e,t)}function Ls(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Ls.bind(null,t,e),n)}function Bs(){}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Dl|=n,e.baseState=!0),t)}function Vs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{yt=n,as.transition=r}}function Gs(){return bs().memoizedState}function qs(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ys(t,n);else if(null!==(n=Oi(e,t,n,r))){tc(n,e,r,Jl()),$s(n,t,r)}}function Zs(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ys(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Mi(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Oi(e,t,a,r))&&(tc(n,e,r,a=Jl()),$s(n,t,r))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qs={readContext:Ai,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Xs={readContext:Ai,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4194308,4,Ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ts,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Vs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=vs();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Cl)throw Error(i(349));0!==(30&is)||Ss(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Is(Ns.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Cl.identifierPrefix;if(ai){var n=Qa;t=":"+t+"R"+(n=($a&~(1<<32-st($a)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Ai,useCallback:Us,useContext:Ai,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ps,useLayoutEffect:Rs,useMemo:Hs,useReducer:xs,useRef:zs,useState:function(){return xs(ys)},useDebugValue:Bs,useDeferredValue:function(e){return Ws(bs(),os.memoizedState,e)},useTransition:function(){return[xs(ys)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1},eo={readContext:Ai,useCallback:Us,useContext:Ai,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ps,useLayoutEffect:Rs,useMemo:Hs,useReducer:_s,useRef:zs,useState:function(){return _s(ys)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[_s(ys)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:ks,useId:Gs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jl(),a=ec(e),i=Li(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(tc(t,e,a,r),Bi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jl(),a=ec(e),i=Li(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(tc(t,e,a,r),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jl(),r=ec(e),a=Li(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(tc(t,e,r,n),Bi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=ja,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Ma(t)?Aa:Ca.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?za(e,a):ja),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Ma(t)?Aa:Ca.current,a.context=za(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Hi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Vl=r),uo(0,t)},n}function po(e,t,n){(n=Li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=x.ReactCurrentOwner,yo=!1;function xo(e,t,n,r){t.child=null===e?_i(t,null,n,r):xi(t,e.child,n,r)}function _o(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=ms(e,t,n,r,i,a),n=gs(),null===e||yo?(ai&&n&&ei(t),t.flags|=1,xo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function wo(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||zc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ko(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return No(e,t,n,r,a)}function So(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Ml,zl),zl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Ml,zl),zl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Na(Ml,zl),zl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Na(Ml,zl),zl|=r;return xo(e,t,a,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,a){var i=Ma(n)?Aa:Ca.current;return i=za(t,i),Ti(t,a),n=ms(e,t,n,r,i,a),r=gs(),null===e||yo?(ai&&r&&ei(t),t.flags|=1,xo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function jo(e,t,n,r,a){if(Ma(n)){var i=!0;Pa(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Ho(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=za(t,c=Ma(n)?Aa:Ca.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Di=!1;var f=t.memoizedState;s.state=f,Hi(t,r,s,a),l=t.memoizedState,o!==r||f!==l||Ta.current||Di?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Di||ao(t,n,o,r,f,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ri(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=za(t,l=Ma(n)?Aa:Ca.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||f!==l)&&so(t,s,r,l),Di=!1,f=t.memoizedState,s.state=f,Hi(t,r,s,a);var p=t.memoizedState;o!==d||f!==p||Ta.current||Di?("function"===typeof h&&(no(t,n,h,r),p=t.memoizedState),(c=Di||ao(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,i,a)}function Co(e,t,n,r,a,i){Eo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ra(t,n,!1),Wo(e,t,i);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,o,i)):xo(e,t,o,i),t.memoizedState=r.state,a&&Ra(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Yi(e,t.containerInfo)}function Ao(e,t,n,r,a){return hi(),pi(a),t.flags|=256,xo(e,t,n,r),t.child}var zo,Mo,Oo,Io={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Po(e,t,n){var r,a=t.pendingProps,s=Ji.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Na(Ji,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,a,0,null),e=Ic(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Io,e):Ro(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Lo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Dc({mode:"visible",children:r.children},a,0,null),(s=Ic(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Io,s);if(0===(1&t.mode))return Lo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Lo(e,t,o,r=co(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Cl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ii(e,a),tc(r,e,a,-1))}return pc(),Lo(e,t,o,r=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Za[Ka++]=$a,Za[Ka++]=Qa,Za[Ka++]=Ya,$a=e.id,Qa=e.overflow,Ya=t),t=Ro(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Mc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,a}return e=(o=e.child).sibling,a=Mc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ro(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Lo(e,t,n,r){return null!==r&&pi(r),xi(t,e.child,null,n),(e=Ro(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Bo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Uo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Ji.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Ji,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ma(t.type)&&Oa(),Go(t),null;case 3:return r=t.stateNode,$i(),Ea(Ta),Ea(Ca),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ic(ii),ii=null))),Go(t),null;case 5:Xi(t);var a=Ki(Zi.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Go(t),null}if(e=Ki(Gi.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fa]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ae(r,s),Fr("invalid",r)}for(var l in be(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),J(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,zo(e,t),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":$(e,r),a=Y(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=R({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(s in be(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Oo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ki(Zi.current),Ki(Gi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Go(t),null;case 13:if(Ea(Ji),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==ii&&(ic(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ji.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return $i(),null===e&&Hr(t.stateNode.containerInfo),Go(t),null;case 10:return ji(t.type._context),Go(t),null;case 19:if(Ea(Ji),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Vo(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Vo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Ul&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Go(t),null}else 2*Qe()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=Ji.current,Na(Ji,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&zl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Zo(e,t){switch(ti(t),t.tag){case 1:return Ma(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),Ea(Ta),Ea(Ca),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Ea(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(Ji),null;case 4:return $i(),null;case 10:return ji(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ki(Gi.current);var i,s=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=R({},a,{value:void 0}),r=R({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,Yo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function Jo(e,t,n){try{n()}catch(r){kc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Jo(t,n,i)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Yo||Xo(n,t);case 6:var r=cl,a=ul;cl=null,dl(e,t,n),ul=a,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ht(e)):la(cl,n.stateNode));break;case 4:r=cl,a=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&Jo(n,t,s),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!Yo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,dl(e,t,n),Yo=r):dl(e,t,n);break;default:dl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(s,o,a),cl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(a,s),ye(l,o);var u=ye(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):y(a,d,f,u)}switch(l){case"input":X(a,s);break;case"textarea":ie(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Qe())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,pl(t,e),Yo=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qo=e,d=e.child;null!==d;){for(f=Qo=d;null!==Qo;){switch(p=(h=Qo).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Xo(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Xo(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qo=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,o=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pl(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ll(e,sl(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ol(e,sl(e),s);break;default:throw Error(i(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var a=Qo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Ko;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Ko;var c=Yo;if(Ko=s,(Yo=l)&&!c)for(Qo=a;null!==Qo;)l=(s=Qo).child,22===s.tag&&null!==s.memoizedState?_l(a):null!==l?(l.return=s,Qo=l):_l(a);for(;null!==i;)Qo=i,bl(i,t,n),i=i.sibling;Qo=a,Ko=o,Yo=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qo=i):yl(e)}}function yl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(i(163))}Yo||512&t.flags&&rl(t)}catch(h){kc(t,t.return,h)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function xl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function _l(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var i=t.return;try{rl(t)}catch(l){kc(t,i,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var wl,kl=Math.ceil,Sl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,jl=0,Cl=null,Tl=null,Al=0,zl=0,Ml=Sa(0),Ol=0,Il=null,Dl=0,Pl=0,Rl=0,Ll=null,Fl=null,Bl=0,Ul=1/0,Hl=null,Wl=!1,Vl=null,Gl=null,ql=!1,Zl=null,Kl=0,Yl=0,$l=null,Ql=-1,Xl=0;function Jl(){return 0!==(6&jl)?Qe():-1!==Ql?Ql:Ql=Qe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Al?Al&-Al:null!==mi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function tc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(i(185));vt(e,n,r),0!==(2&jl)&&e===Cl||(e===Cl&&(0===(2&jl)&&(Pl|=n),4===Ol&&sc(e,Al)),nc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Ul=Qe()+500,Fa&&Ha()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ht(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ft(e,e===Cl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(oc.bind(null,e)):Ua(oc.bind(null,e)),sa(function(){0===(6&jl)&&Ha()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ql=-1,Xl=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Cl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=jl;jl|=2;var s=hc();for(Cl===e&&Al===t||(Hl=null,Ul=Qe()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ni(),Sl.current=s,jl=a,null!==Tl?t=0:(Cl=null,Al=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t)throw n=Il,dc(e,0),sc(e,r),nc(e,Qe()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t))throw n=Il,dc(e,0),sc(e,r),nc(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Fl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Jl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Fl,Hl),t);break}xc(e,Fl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Fl,Hl),r);break}xc(e,Fl,Hl);break;default:throw Error(i(329))}}}return nc(e,Qe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fl,Fl=n,null!==t&&ic(t)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Rl,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&jl))throw Error(i(327));_c();var t=ft(e,0);if(0===(1&t))return nc(e,Qe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,dc(e,0),sc(e,t),nc(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Hl),nc(e,Qe()),null}function lc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Ul=Qe()+500,Fa&&Ha())}}function cc(e){null!==Zl&&0===Zl.tag&&0===(6&jl)&&_c();var t=jl;jl|=1;var n=Nl.transition,r=yt;try{if(Nl.transition=null,yt=1,e)return e()}finally{yt=r,Nl.transition=n,0===(6&(jl=t))&&Ha()}}function uc(){zl=Ml.current,Ea(Ml)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:$i(),Ea(Ta),Ea(Ca),ns();break;case 5:Xi(r);break;case 4:$i();break;case 13:case 19:Ea(Ji);break;case 10:ji(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Cl=e,Tl=e=Mc(e.current,null),Al=zl=t,Ol=0,Il=null,Rl=Pl=Dl=0,Fl=Ll=null,null!==zi){for(t=0;t<zi.length;t++)if(null!==(r=(n=zi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}zi=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Ni(),rs.current=Qs,cs){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,ds=0,El.current=null,null===n||null===n.return){Ol=1,Il=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),pc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pi(lo(c,l));break e}}s=c=lo(c,l),4!==Ol&&(Ol=2),null===Ll?Ll=[s]:Ll.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,ho(0,c,t));break e;case 1:l=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Ui(s,po(s,l,t));break e}}s=s.return}while(null!==s)}yc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Qs,null===e?Qs:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Cl||0===(268435455&Dl)&&0===(268435455&Pl)||sc(Cl,Al)}function mc(e,t){var n=jl;jl|=2;var r=hc();for(Cl===e&&Al===t||(Hl=null,dc(e,t));;)try{gc();break}catch(a){fc(e,a)}if(Ni(),jl=n,Sl.current=r,null!==Tl)throw Error(i(261));return Cl=null,Al=0,Ol}function gc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Ye();)bc(Tl)}function bc(e){var t=wl(e.alternate,e,zl);e.memoizedProps=e.pendingProps,null===t?yc(e):Tl=t,El.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,zl)))return void(Tl=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=yt,a=Nl.transition;try{Nl.transition=null,yt=1,function(e,t,n,r){do{_c()}while(null!==Zl);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Cl&&(Tl=Cl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Cc(tt,function(){return _c(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var o=yt;yt=1;var l=jl;jl|=4,El.current=null,function(e,t){if(ea=Vt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=o+a),f!==s||0!==r&&3!==f.nodeType||(c=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(l=o),h===s&&++d===r&&(c=o),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}m=el,el=!1}(e,n),ml(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),$e(),jl=l,yt=o,Nl.transition=s}else e.current=n;if(ql&&(ql=!1,Zl=e,Kl=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Vl,Vl=null,e;0!==(1&Kl)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Ha()}(e,t,n,r)}finally{Nl.transition=a,yt=r}return null}function _c(){if(null!==Zl){var e=xt(Kl),t=Nl.transition,n=yt;try{if(Nl.transition=null,yt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Kl=0,0!==(6&jl))throw Error(i(331));var a=jl;for(jl|=4,Qo=e.current;null!==Qo;){var s=Qo,o=s.child;if(0!==(16&Qo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qo=u;null!==Qo;){var d=Qo;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Qo=f;else for(;null!==Qo;){var h=(d=Qo).sibling,p=d.return;if(al(d),d===u){Qo=null;break}if(null!==h){h.return=p,Qo=h;break}Qo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(s=Qo).flags))switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Qo=b;break e}Qo=s.return}}var y=e.current;for(Qo=y;null!==Qo;){var x=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Qo=x;else e:for(o=y;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Qo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qo=_;break e}Qo=l.return}}if(jl=a,Ha(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{yt=n,Nl.transition=t}}return!1}function wc(e,t,n){e=Fi(e,t=ho(0,t=lo(n,t),1),1),t=Jl(),null!==e&&(vt(e,1,t),nc(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fi(t,e=po(t,e=lo(n,e),1),1),e=Jl(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Jl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Al&n)===n&&(4===Ol||3===Ol&&(130023424&Al)===Al&&500>Qe()-Bl?dc(e,0):Rl|=n),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Jl();null!==(e=Ii(e,t))&&(vt(e,t,n),nc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return Ze(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)zc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ic(n.children,a,s,t);case S:o=8,a|=8;break;case E:return(e=Ac(12,n,t,2|a)).elementType=E,e.lanes=s,e;case T:return(e=Ac(13,n,t,a)).elementType=T,e.lanes=s,e;case A:return(e=Ac(19,n,t,a)).elementType=A,e.lanes=s,e;case O:return Dc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case j:o=9;break e;case C:o=11;break e;case z:o=14;break e;case M:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Rc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,a,i,s,o,l){return e=new Lc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function Bc(e){if(!e)return ja;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Da(e,n,t)}return t}function Uc(e,t,n,r,a,i,s,o,l){return(e=Fc(n,r,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Li(r=Jl(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,vt(e,a,r),nc(e,r),e}function Hc(e,t,n,r){var a=t.current,i=Jl(),s=ec(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,s))&&(tc(e,a,s,i),Bi(e,a,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:To(t),hi();break;case 5:Qi(t);break;case 1:Ma(t.type)&&Pa(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(wi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Ji,1&Ji.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Po(e,t,n):(Na(Ji,1&Ji.current),null!==(e=Wo(e,t,n))?e.sibling:null);Na(Ji,1&Ji.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Ji,Ji.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,ai&&0!==(1048576&t.flags)&&Ja(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var a=za(t,Ca.current);Ti(t,n),a=ms(null,t,r,e,a,n);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(s=!0,Pa(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Pi(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),xo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===z)return 14}return 2}(r),e=to(r,e),a){case 0:t=No(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=wo(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(To(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Ri(e,t),Hi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ao(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=Ao(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=Wo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),Eo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Po(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Na(wi,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ta.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Li(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ci(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ci(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Ai(a)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),wo(e,t,r,a=to(r.type,a),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Ho(e,t),t.tag=1,Ma(r)?(e=!0,Pa(t)):e=!1,Ti(t,n),io(t,r,a),oo(t,r,a,n),Co(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Wc(s);o.call(e)}}Hc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[pa]=s.current,Hr(8===e.nodeType?e.parentNode:e),cc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Hr(8===e.nodeType?e.parentNode:e),cc(function(){Hc(t,l,n,r)}),l}(n,t,e,a,r);return Wc(s)}Kc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Kc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Hc(null,e,null,null)}),t[pa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Rt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),nc(t,Qe()),0===(6&jl)&&(Ul=Qe()+500,Ha()))}break;case 13:cc(function(){var t=Ii(e,1);if(null!==t){var n=Jl();tc(t,e,1,n)}}),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)tc(t,e,134217728,Jl());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=ec(e),n=Ii(e,t);if(null!==n)tc(n,e,t,Jl());Gc(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(i(90));Z(r),X(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Te=cc;var Jc={usingClientEntryPoint:!1,Events:[ya,xa,_a,Ne,je,lc]},eu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(tu),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",a=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Kc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){"use strict";var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,m(x,v.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+C(l,0):i,_(s)?(a="",null!=e&&(a=e.replace(j,"$&/")+"/"),T(s,t,a,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",_(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=T(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,a,u=i+C(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},O={transition:null},I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},43(e,t,n){"use strict";e.exports=n(202)},579(e,t,n){"use strict";e.exports=n(153)},234(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,O(w);else{var t=r(u);null!==t&&I(_,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,b(N),N=-1),p=!0;var i=h;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!T());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var o=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?f.callback=o:f===r(c)&&a(c),x(n)}else a(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&I(_,d.startTime-n),l=!1}return l}finally{f=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,N=-1,j=5,C=-1;function T(){return!(t.unstable_now()-C<j)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof y)k=function(){y(A)};else if("undefined"!==typeof MessageChannel){var z=new MessageChannel,M=z.port2;z.port1.onmessage=A,k=function(){M.postMessage(null)}}else k=function(){v(A,0)};function O(e){E=e,S||(S=!0,k())}function I(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(N),N=-1):g=!0,I(_,i-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},853(e,t,n){"use strict";e.exports=n(234)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".2b6afe24.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="dragon-slayer:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var f=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Dragon-Slayer/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,[s,o,l]=r,c=0;if(s.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkdragon_slayer=self.webpackChunkdragon_slayer||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],u=(t,n)=>{const r=(0,e.forwardRef)((r,a)=>{let{color:i="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:f="",children:h}=r,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,c);return(0,e.createElement)("svg",o(o({ref:a},l),{},{width:s,height:s,stroke:i,strokeWidth:d?24*Number(u)/Number(s):u,className:["lucide","lucide-".concat((m=t,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),f].join(" ")},p),[...n.map(t=>{let[n,r]=t;return(0,e.createElement)(n,r)}),...Array.isArray(h)?h:[h]]);var m});return r.displayName="".concat(t),r},d=u("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),f=u("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),h=u("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),p=u("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),m=u("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var g=n(579);const v=e=>{let{children:t,onClick:n,disabled:r=!1,icon:a,primary:i=!1,className:s=""}=e;return(0,g.jsxs)("button",{onClick:n,disabled:r,className:"\n      relative group w-full flex items-center justify-center gap-3 px-6 py-3 \n      font-serif text-lg tracking-widest border-2 transition-all duration-300\n      ".concat(r?"border-stone-700 text-stone-600 cursor-not-allowed bg-stone-900/50":i?"border-amber-600 text-amber-100 bg-stone-900 hover:bg-amber-900/30 hover:border-amber-400 shadow-[0_0_15px_rgba(217,119,6,0.1)] hover:shadow-[0_0_25px_rgba(217,119,6,0.3)]":"border-stone-600 text-stone-400 bg-stone-900 hover:bg-stone-800 hover:border-stone-400 hover:text-stone-200","\n      ").concat(s,"\n    "),children:[a&&(0,g.jsx)(a,{size:20,className:i?"text-amber-500":"text-stone-500"}),(0,g.jsx)("span",{children:t})]})},b=e=>{let{onStartGame:t,onLoadGame:n,hasSave:r,onLegacy:a,onEditor:i}=e;return(0,g.jsxs)("div",{className:"relative h-screen w-full bg-stone-950 overflow-hidden flex flex-col items-center justify-center p-4",children:[(0,g.jsx)("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),(0,g.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,#0c0a09_100%)] pointer-events-none"}),(0,g.jsxs)("div",{className:"relative z-10 text-center space-y-12 max-w-2xl w-full",children:[(0,g.jsxs)("div",{className:"space-y-4 animate-fade-in-up",children:[(0,g.jsxs)("div",{className:"flex items-center justify-center gap-4 text-amber-700 opacity-80",children:[(0,g.jsx)("div",{className:"h-[2px] w-12 bg-gradient-to-r from-transparent to-amber-700"}),(0,g.jsx)(d,{size:24}),(0,g.jsx)("div",{className:"h-[2px] w-12 bg-gradient-to-l from-transparent to-amber-700"})]}),(0,g.jsx)("h1",{className:"text-6xl md:text-8xl font-serif text-transparent bg-clip-text bg-gradient-to-b from-amber-100 to-amber-700 drop-shadow-[0_2px_10px_rgba(0,0,0,0.8)] tracking-tighter",style:{fontFamily:'"MedievalSharp", cursive'},children:"AETHELGARD"}),(0,g.jsx)("p",{className:"text-stone-400 font-serif tracking-[0.2em] uppercase text-sm md:text-base",children:"Chronicles of the Fallen Realm"})]}),(0,g.jsxs)("div",{className:"space-y-4 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[(0,g.jsx)(v,{onClick:t,primary:!0,icon:f,children:"NEW EXPEDITION"}),(0,g.jsx)(v,{onClick:n,disabled:!r,icon:h,children:"RESUME CHRONICLE"}),(0,g.jsx)(v,{onClick:a,disabled:!0,icon:p,children:"ANCESTRAL LEGACY"}),(0,g.jsx)(v,{onClick:i,icon:m,children:"CHARACTER EDITOR"})]}),(0,g.jsxs)("div",{className:"pt-12 text-stone-600 text-xs font-serif italic animate-fade-in-up",style:{animationDelay:"0.4s"},children:[(0,g.jsx)("p",{children:'"The castle gates stand open, yet few return..."'}),(0,g.jsx)("p",{className:"mt-2 text-stone-700",children:"v0.2.0 \u2022 Scenario 1"})]})]})]})},y=u("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),x=u("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_=u("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),w=u("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),k=u("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),S=u("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),E=u("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var N=n(671);class j{constructor(e){this.id=e.id,this.name=e.name,this.type=e.type,this.description=e.description,this.targetingMode=e.targetingMode||"AUTO",this.maxTargets=e.maxTargets||1,this.trigger=e.trigger||"ACTION_PHASE",this.limitPerTurn=void 0!==e.limitPerTurn?e.limitPerTurn:1,this.once=e.once||!1,this.ev=e.ev||0,this.evaluationTime=e.evaluationTime||null,this.checkConditionsStrat=e.checkConditions||(()=>!0),this.getTargetsStrat=e.getTargets||(()=>[]),this.selectTargetsStrat=e.selectTargets||((e,t)=>[...e].sort((e,t)=>e.hp-t.hp).slice(0,t)),this.executeStrat=e.execute||(()=>({log:"No effect",actions:[]})),this.animation=e.animation}async perform(e,t){const{bus:r}=await Promise.resolve().then(n.bind(n,671)),{validTargets:a,isActive:i,maxTargets:s}=this.determinator(e,t);if(!i)return r.emit("Skill:Determining",{skill:this,user:e,result:!1}),null;r.emit("Skill:Determining",{skill:this,user:e,result:!0});const o=await this.targeting(e,t,a,s);if(o&&o.length>0){const n={skill:this,user:e,type:1===o.length&&o[0].id===e.id?"SELF":1===o.length?"SINGLE":"MULTI",targets:o,context:t};r.emit("Skill:Targeting",n)}if(!o||0===o.length)return{log:"".concat(e.name," skipped ").concat(this.name,"."),actions:[]};if(this.animation){const{AnimationSkill:r}=await n.e(336).then(n.bind(n,336));await r.play(this.animation,e,o,t)}const l=await this.execute(e,t,o);return l&&t.memory&&l.log!=="".concat(this.name," fizzled.")&&(this.once&&(t.memory["".concat(this.id,"_used")]=!0),t.memory["".concat(this.id,"_turn_count")]=(t.memory["".concat(this.id,"_turn_count")]||0)+1),l}determinator(e,t){const{memory:n}=t;if(n){if(this.once&&n["".concat(this.id,"_used")])return{validTargets:[],isActive:!1,maxTargets:0};if(n["".concat(this.id,"_turn_count")]>=this.limitPerTurn)return{validTargets:[],isActive:!1,maxTargets:0}}if(!this.checkConditionsStrat(t))return{validTargets:[],isActive:!1,maxTargets:0};const r=this.getTargetsStrat(t);let a=this.maxTargets;return"function"===typeof a&&(a=a(t)),{validTargets:r,isActive:r.length>0,maxTargets:a||1}}async targeting(e,t,n,r){var a;if("MANUAL"===this.targetingMode&&"PLAYER"===(null===(a=e.faction)||void 0===a?void 0:a.type)&&t.requestPlayerTarget)try{const e=await t.requestPlayerTarget(n);return e?[e]:[]}catch(i){return[]}return n.length<=r?n:this.selectTargetsStrat(n,r,t)}execute(e,t,n){return n&&0!==n.length?this.executeStrat(n,t):{log:"".concat(this.name," fizzled.")}}static async ApplyDamage(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Array.isArray(e)||(e=[e]);const a=r.source||n.source||n.user,i={targets:e,amount:t,context:n,type:"DAMAGE",source:a};await N.bus.emitAsync("Skill:CausingDamage",i);const s=i.amount,o=[];for(const l of e){if(l.hp<=0){o.push(0);continue}let e=s;l.defense>=e&&(await N.bus.emitAsync("Skill:Immute",{target:l,damage:e,defense:l.defense}),await N.bus.emitAsync("Skill:CausingDefense",{target:l,amount:l.defense}),e=0),l.defense=0,e>0&&await N.bus.emitAsync("Skill:TakeDamage",{target:l,amount:e,source:a}),l.hp=Math.max(0,l.hp-e),l.hp<=0&&await N.bus.emitAsync("Character:Die",{character:l}),o.push(e)}return o}static async Heal(e,t){Array.isArray(e)||(e=[e]),await N.bus.emitAsync("Skill:CausingHeal",{targets:e,amount:t});const n=[];for(const r of e){if(r.hp<=0){n.push(0);continue}const e=r.hp,a=Math.min(r.maxHp,r.hp+t)-e;r.hp+=a,a>0&&await N.bus.emitAsync("Skill:GetHealed",{target:r,amount:a}),n.push(a)}return n}static async ModifyStat(e,t,n){Array.isArray(e)||(e=[e]);for(const r of e)"speed"===t?r.tempSpeed+=n:"defense"===t&&(r.defense+=n,await N.bus.emitAsync("Skill:GetDefense",{target:r,amount:n}))}static generate(e){const{id:t,name:n,type:r,description:a,trigger:i,limitPerTurn:s,logic:o={},execution:l={},targeting:c={}}=e,u=c.max||1;return new j({id:t,name:n,type:r,description:a,trigger:i,limitPerTurn:s,once:o.once||!1,targetingMode:c.mode||"AUTO",maxTargets:u,checkConditions:e=>{const{dice:t,history:n,memory:r}=e;if(o.dice){if(o.dice.exact&&t!==o.dice.exact)return!1;if(o.dice.min&&t<o.dice.min)return!1;if(o.dice.max&&t>o.dice.max)return!1;if(o.dice.parity){const e=t%2===0;if("even"===o.dice.parity&&!e)return!1;if("odd"===o.dice.parity&&e)return!1}}if(o.historyMatch&&n){if(0===n.filter(e=>e===t).length)return!1}return!(o.onlyFirst&&!e.isFirst)},getTargets:e=>c.scope?j.ResolveScope(c.scope,e):"OFFENSIVE"===r?j.ResolveScope("ENEMIES",e):"DEFENSIVE"===r?j.ResolveScope("ALLIES",e):[],execute:async(e,t)=>{const{dice:r,memory:a}=t,i=[];if(l.damage){let n=l.damage.amount||0;l.damage.scaleWithDice&&(n=r);const a={targets:e,amount:n,context:t,type:"DAMAGE"};await N.bus.emitAsync("Skill:CausingDamage",a),await j.ApplyDamage(e,n,t),i.push("Dealt ".concat(n," DMG."))}if(l.heal){const t=l.heal.amount||0;await j.Heal(e,t),i.push("Healed ".concat(t,"."))}if(l.buff){const{stat:t,amount:n}=l.buff;await j.ModifyStat(e,t,n),i.push("".concat(t," ").concat(n>0?"+":"").concat(n,"."))}return l.revive&&(j.Revive(e),i.push("Revived!")),l.reroll?(i.push("Rewinds time! (Reroll Requested)"),{log:"".concat(n,": ").concat(i.join(" ")),action:"REROLL"}):(l.meta&&l.meta.speedDebuffIfFirst&&t.isFirst&&(await j.ModifyStat([t.user],"speed",-1),i.push("(Speed -1)")),{log:"".concat(n,": ").concat(i.join(" "))})},animation:e.animation})}static ResolveScope(e,t){switch(e){case"SELF":return[t.user];case"ALLIES":return t.allies.filter(e=>e.isAlive());case"ENEMIES":return t.enemies.filter(e=>e.isAlive());case"DEAD_ALLIES":return t.allies.filter(e=>!e.isAlive());case"ALL":return[...t.allies,...t.enemies].filter(e=>e.isAlive());default:return[]}}static Revive(e){Array.isArray(e)||(e=[e]),e.forEach(e=>{e.hp<=0?(e.hp=e.maxHp,N.bus.emit("Skill:Revived",{target:e})):e.hp=e.maxHp})}}const C={merlin_offensive:j.generate({id:"merlin_offensive",name:"Fireball",type:"OFFENSIVE",description:"6 DMG if dice is 6. /* EV: 1.0 */",targeting:{mode:"MANUAL",max:1,scope:"ENEMIES"},logic:{dice:{exact:6}},execution:{damage:{amount:6}},animation:"attacking"}),merlin_passive_cancel:new j({id:"merlin_passive_cancel",name:"Spatial Shift",type:"DEFENSIVE",description:"Cancel incoming damage if Dice >= 6 (Once per turn).",trigger:"Skill:CausingDamage",limitPerTurn:1,checkConditions:e=>{if(!(e.targets&&e.targets.some(t=>t.id===e.user.id)))return!1;const t=e.context;return t&&t.dice>=6},getTargets:e=>[e.user],execute:(e,t)=>(t.amount=0,{log:"Merlin shifts through space! Attack cancelled (0 DMG)."})}),arthur_offensive:j.generate({id:"arthur_offensive",name:"Righteous Strike",type:"OFFENSIVE",description:"2 DMG if dice >= 4. /* EV: 1.0 */",targeting:{scope:"ENEMIES"},logic:{dice:{min:4}},execution:{damage:{amount:2}},animation:"attacking"}),arthur_defensive:j.generate({id:"arthur_defensive",name:"Holy Aura",type:"DEFENSIVE",description:"Revive a fallen ally if dice matches history (Once per battle).",targeting:{scope:"DEAD_ALLIES",max:1},logic:{historyMatch:!0,once:!0}}),archer_offensive:j.generate({id:"archer_offensive",name:"Quick Shot",type:"OFFENSIVE",description:"1 DMG. Only hits if first to act. (-1 Speed).",targeting:{scope:"ENEMIES",max:1},logic:{onlyFirst:!0},execution:{damage:{amount:1},meta:{speedDebuffIfFirst:!0}},animation:"attacking"}),archer_defensive:j.generate({id:"archer_defensive",name:"Trap Setting",type:"DEFENSIVE",description:"Deal 2 DMG to enemy if dice is Even. /* EV: 1.0 */",targeting:{scope:"ENEMIES",max:1},logic:{dice:{parity:"even"}},execution:{damage:{amount:2}}}),architect_offensive:j.generate({id:"architect_offensive",name:"Fortify",type:"OFFENSIVE",description:"Give an ally +2 Defense.",targeting:{scope:"ALLIES",max:1},logic:{},execution:{buff:{stat:"defense",amount:2}},animation:"buff"}),architect_defensive:j.generate({id:"architect_defensive",name:"Collapse",type:"DEFENSIVE",description:"Deal DMG equal to Dice (Once per battle).",targeting:{mode:"MANUAL",scope:"ENEMIES",max:1},logic:{dice:{min:4},once:!0},execution:{damage:{scaleWithDice:!0}}}),rebel_offensive:new j({id:"rebel_offensive",name:"Multi-Attack",type:"OFFENSIVE",description:"1 DMG. If dice <= 3, 2 DMG to another.",maxTargets:e=>e.dice<=3?2:1,animation:"attacking",checkConditions:e=>!0,getTargets:e=>j.ResolveScope("ENEMIES",e),execute:async(e,t)=>{const n=e[0];await j.ApplyDamage([n],1,t);let r="Rebel attacks ".concat(n.name," (1 DMG).");if(e.length>1){const n=e[1];await j.ApplyDamage([n],2,t),r+=" And frenzies on ".concat(n.name," (2 DMG)!")}return{log:r}}}),rebel_defensive:new j({id:"rebel_defensive",name:"Desperation",type:"DEFENSIVE",description:"Take 1 DMG to deal 1 DMG, unless dice is 1.",checkConditions:e=>1!==e.dice,getTargets:e=>j.ResolveScope("ENEMIES",e),execute:async(e,t)=>{const n=e[0],r=t.user;return await j.ApplyDamage([n],1,t),await j.ApplyDamage([r],1,t),{log:"Rebel attacks recklessly! 1 DMG to ".concat(n.name,", 1 DMG to self.")}}}),dragon_offensive:new j({id:"dragon_offensive",name:"Dragon Breath",type:"OFFENSIVE",description:"2 DMG. If dice 6, 2 DMG to ALL.",maxTargets:e=>6===e.dice?99:1,checkConditions:e=>!0,getTargets:e=>j.ResolveScope("ENEMIES",e),execute:async(e,t)=>{const{dice:n}=t;return await j.ApplyDamage(e,2,t),6===n?{log:"Dragon breathes fire! 2 DMG to ALL (".concat(e.length,")!")}:{log:"Dragon bites ".concat(e[0].name,". 2 DMG.")}}}),dragon_defensive:j.generate({id:"dragon_defensive",name:"Hard scales",type:"DEFENSIVE",description:"+1 Defense if dice <= 3.",targeting:{scope:"SELF"},logic:{dice:{max:3}},execution:{buff:{stat:"defense",amount:1}}}),std_heavy_strike:j.generate({id:"std_heavy_strike",name:"Heavy Strike",type:"OFFENSIVE",description:"Deal 3 DMG if Dice >= 5. /* EV: 1.0 */",targeting:{scope:"ENEMIES",max:1},logic:{dice:{min:5}},execution:{damage:{amount:3}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_quick_jab:j.generate({id:"std_quick_jab",name:"Quick Jab",type:"OFFENSIVE",description:"Deal 1 DMG. /* EV: 1.0 */",targeting:{scope:"ENEMIES",max:1},logic:{},execution:{damage:{amount:1}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_shield_bash:j.generate({id:"std_shield_bash",name:"Shield Bash",type:"OFFENSIVE",description:"Deal 2 DMG if Dice is Even. /* EV: 1.0 */",targeting:{scope:"ENEMIES",max:1},logic:{dice:{parity:"even"}},execution:{damage:{amount:2}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_group_heal:j.generate({id:"std_group_heal",name:"Group Heal",type:"DEFENSIVE",description:"Heal 1 HP to 3 allies if Dice >= 5. /* EV: 1.0 */",targeting:{scope:"ALLIES",max:3},logic:{dice:{min:5}},execution:{heal:{amount:1}},animation:"healing",ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_berserk:j.generate({id:"std_berserk",name:"Berserk",type:"DEFENSIVE",description:"+2 Speed to Self (Once per battle).",targeting:{scope:"SELF"},logic:{once:!0},execution:{buff:{stat:"speed",amount:2}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_snipe:j.generate({id:"std_snipe",name:"Snipe",type:"OFFENSIVE",description:"Deal 6 DMG if Dice is 6. /* EV: 1.0 */",targeting:{scope:"ENEMIES",max:1},logic:{dice:{exact:6}},execution:{damage:{amount:6}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_wide_sweep:j.generate({id:"std_wide_sweep",name:"Wide Sweep",type:"OFFENSIVE",description:"Deal 1 DMG to 2 enemies if Dice is Even. /* EV: 1.0 */",targeting:{scope:"ENEMIES",max:2},logic:{dice:{parity:"even"}},execution:{damage:{amount:1}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),std_inner_focus:j.generate({id:"std_inner_focus",name:"Inner Focus",type:"DEFENSIVE",description:"+4 Defense if Dice is Odd. /* EV: 1.0 */",targeting:{scope:"SELF"},logic:{dice:{parity:"odd"}},execution:{buff:{stat:"defense",amount:4}},ev:1,evaluationTime:"2026-02-20T11:24:11+08:00"}),elara_offensive:j.generate({id:"elara_offensive",name:"Shadow Strike",type:"OFFENSIVE",description:"Deal 4 DMG if Dice >= 5.",targeting:{scope:"ENEMIES",max:1},logic:{dice:{min:5}},execution:{damage:{amount:4}}}),elara_passive:new j({id:"elara_passive",name:"Blur",type:"DEFENSIVE",description:"Dodge attack (0 DMG) if Dice is 1.",trigger:"Skill:CausingDamage",limitPerTurn:99,checkConditions:e=>{var t,n;const r=null===(t=e.targets)||void 0===t?void 0:t.some(t=>t.id===e.user.id),a=null===(n=e.context)||void 0===n?void 0:n.dice;return r&&1===a},getTargets:e=>[e.user],execute:(e,t)=>(t.amount=0,{log:"Elara blurs! Attack dodged."})}),thorn_defensive:j.generate({id:"thorn_defensive",name:"Bunker Down",type:"DEFENSIVE",description:"+3 Defense.",targeting:{scope:"SELF"},logic:{},execution:{buff:{stat:"defense",amount:3}}}),thorn_passive:new j({id:"thorn_passive",name:"Spiked Armor",type:"DEFENSIVE",description:"Deal 1 DMG to attacker when hit.",trigger:"Skill:TakeDamage",limitPerTurn:99,checkConditions:e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.id)===e.user.id&&e.source},getTargets:e=>[e.source],execute:async(e,t)=>(await j.ApplyDamage(e,1,t.context||{},{source:t.user}),{log:"Thorn's spikes pierce the attacker! (1 DMG)"})}),siegfried_offensive:new j({id:"siegfried_offensive",name:"Balmung",type:"OFFENSIVE",description:"4 DMG. If Dice is 6, deal 6 DMG.",targeting:{scope:"ENEMIES",max:1},checkConditions:e=>!0,getTargets:e=>j.ResolveScope("ENEMIES",e),execute:async(e,t)=>{const n=6===t.dice?6:4;return await j.ApplyDamage(e,n,t),{log:"Siegfried swings Balmung! ".concat(n," DMG.")}}}),siegfried_passive:new j({id:"siegfried_passive",name:"Dragon Blood",type:"DEFENSIVE",description:"-1 DMG taken. WEAKNESS: If attacker rolled 1, take +2 DMG instead.",trigger:"Skill:CausingDamage",limitPerTurn:99,checkConditions:e=>e.targets&&e.targets.some(t=>t.id===e.user.id),getTargets:e=>[e.user],execute:(e,t)=>{if(1===(t.context?t.context.dice:0))return t.amount+=2,{log:"The Leaf Spot is hit! Dragon Blood fails (+2 DMG)."};{const e=t.amount;return t.amount=Math.max(0,t.amount-1),e>t.amount?{log:"Dragon Blood hardens (-1 DMG)."}:{log:"Dragon Blood active (No reduction)."}}}}),shadow_offensive:j.generate({id:"shadow_offensive",name:"Backstab",type:"OFFENSIVE",description:"3 DMG. If first to act, +2 DMG.",targeting:{scope:"ENEMIES",max:1},logic:{},execution:{damage:{amount:3}}}),golem_offensive:j.generate({id:"golem_offensive",name:"Ground Slam",type:"OFFENSIVE",description:"2 DMG to 2 Targets.",targeting:{scope:"ENEMIES",max:2},logic:{},execution:{damage:{amount:2}}}),golem_passive:new j({id:"golem_passive",name:"Iron Skin",type:"DEFENSIVE",description:"Reduce all incoming damage by 1.",trigger:"Skill:CausingDamage",limitPerTurn:99,checkConditions:e=>{var t;return(null===(t=e.targets)||void 0===t?void 0:t.some(t=>t.id===e.user.id))&&e.amount>0},getTargets:e=>[e.user],execute:(e,t)=>(t.amount=Math.max(0,t.amount-1),{log:"Iron Golem resists the blow (-1 DMG)."})}),frost_offensive:j.generate({id:"frost_offensive",name:"Glacial Breath",type:"OFFENSIVE",description:"Deal 4 DMG to ALL enemies. If Dice is Even, targets lose 2 Speed.",targeting:{scope:"ENEMIES",max:99},logic:{}}),frost_defensive:j.generate({id:"frost_defensive",name:"Permafrost Armor",type:"DEFENSIVE",description:"+5 Defense. If Dice is 6, heal 5 HP.",targeting:{scope:"SELF"},logic:{},execution:{buff:{stat:"defense",amount:5}}}),void_offensive:new j({id:"void_offensive",name:"Abyssal Consumption",type:"OFFENSIVE",description:"Deal 6 DMG. Heal Self for half damage dealt.",targeting:{scope:"ENEMIES",max:1},checkConditions:e=>!0,getTargets:e=>j.ResolveScope("ENEMIES",e),execute:async(e,t)=>{await j.ApplyDamage(e,6,t);return t.user.hp=Math.min(t.user.maxHp,t.user.hp+3),{log:"Void Beast consumes essence! (6 DMG to ".concat(e[0].name,", +3 HP)")}}}),void_passive:new j({id:"void_passive",name:"Phase Shift",type:"DEFENSIVE",description:"Completely dodge the first attack each turn.",trigger:"Skill:CausingDamage",limitPerTurn:1,checkConditions:e=>{var t;return null===(t=e.targets)||void 0===t?void 0:t.some(t=>t.id===e.user.id)},getTargets:e=>[e.user],execute:(e,t)=>(t.amount=0,{log:"Void Beast shifts out of reality! (Dodged)"})}),demon_offensive:new j({id:"demon_offensive",name:"Hellfire Barrage",type:"OFFENSIVE",description:"Deal 3 DMG to 3 Random Targets. If Dice >= 4, burn them (apply -1 Defense).",maxTargets:()=>3,checkConditions:e=>!0,getTargets:e=>j.ResolveScope("ENEMIES",e).sort(()=>.5-Math.random()).slice(0,3),execute:async(e,t)=>{await j.ApplyDamage(e,3,t);let n="Demon Lord unleashes Hellfire on ".concat(e.length," targets! (3 DMG each).");return t.dice>=4&&(e.forEach(e=>e.defense=Math.max(0,e.defense-1)),n+=" Armor melted (-1 DEF)!"),{log:n}}}),demon_passive:new j({id:"demon_passive",name:"Aura of Despair",type:"DEFENSIVE",description:"When an enemy attacks, they take 2 DMG before landing the blow.",trigger:"Skill:TakeDamage",limitPerTurn:99,checkConditions:e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.id)===e.user.id&&e.source},getTargets:e=>[e.source],execute:async(e,t)=>(await j.ApplyDamage(e,2,t,{source:t.user}),{log:"".concat(e[0].name," burns from the Aura of Despair (2 DMG)!")})}),std_counter:new j({id:"std_counter",name:"Counter Attack",type:"BOTH",description:"Deal 1 DMG back to attacker when taking damage.",trigger:"Skill:TakeDamage",limitPerTurn:1,checkConditions:e=>e.target&&e.target.id===e.user.id&&e.source,getTargets:e=>[e.source],execute:async(e,t)=>(await j.ApplyDamage(e,1,t),{log:"".concat(t.user.name," counters! 1 DMG to ").concat(e[0].name,".")})}),passive_riposte:new j({id:"passive_riposte",name:"Riposte",type:"DEFENSIVE",description:"Parry and strike back! (Explicit Source: Self)",trigger:"Skill:TakeDamage",limitPerTurn:1,checkConditions:e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.id)===e.user.id&&e.source},getTargets:e=>[e.source],execute:async(e,t)=>(await j.ApplyDamage(e,2,t,{source:t.user}),{log:"".concat(t.user.name," ripostes! 2 DMG.")})}),passive_mirror_shield:new j({id:"passive_mirror_shield",name:"Mirror Shield",type:"DEFENSIVE",description:"Reflects the attack. (Source: Attacker)",trigger:"Skill:TakeDamage",limitPerTurn:1,checkConditions:e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.id)===e.user.id&&e.source},getTargets:e=>[e.source],execute:async(e,t)=>(await j.ApplyDamage(e,t.amount,t,{source:t.source}),{log:"".concat(t.user.name,"'s Mirror Shield reflects ").concat(t.amount," DMG back to ").concat(e[0].name,"!")})}),passive_karmic_retribution:new j({id:"passive_karmic_retribution",name:"Karmic Retribution",type:"DEFENSIVE",description:"The universe punshes aggression. (Source: FATE)",trigger:"Skill:TakeDamage",limitPerTurn:1,checkConditions:e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.id)===e.user.id&&e.source},getTargets:e=>[e.source],execute:async(e,t)=>(await j.ApplyDamage(e,3,t,{source:{id:"fate",name:"Fate"}}),{log:"".concat(e[0].name," suffers 3 DMG from Karmic Retribution.")})})},T=t=>{let{char:n,isSelected:r,onClick:a,isTargetable:i,isActive:s,compact:o=!1,onDrop:l,onUnequip:c}=t,u=[];"function"===typeof n.getSkills?u=n.getSkills():n.skillIds?u=n.skillIds.map(e=>C[e]).filter(Boolean):(n.offensiveSkillId&&u.push(C[n.offensiveSkillId]),n.defensiveSkillId&&u.push(C[n.defensiveSkillId]),u=u.filter(Boolean));const[d,h]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{m(!1)},[n.profile]),(0,g.jsxs)("div",{id:"char-card-".concat(n.id),onClick:a,className:"\n                relative flex flex-col items-center gap-2 p-5 border-4 transition-all duration-200 cursor-pointer h-[32rem] w-64 flex-shrink-0\n                bg-stone-900/95 hover:bg-stone-800\n                ".concat(r?"border-amber-500 bg-amber-950/40 shadow-xl":"border-stone-700","\n                ").concat(i?"ring-4 ring-amber-400 z-10 shadow-[0_0_20px_rgba(251,191,36,0.6)]":"","\n                ").concat(n.hp<=0?"opacity-40 grayscale pointer-events-none":"","\n                ").concat(s?"animate-action-pulse border-amber-400 shadow-[0_0_30px_rgba(245,158,11,0.5)] z-20":"","\n                ").concat(n.animationClass||"","\n            "),onDragOver:e=>{e.preventDefault(),e.currentTarget.style.borderColor="#f59e0b"},onDragLeave:e=>{e.currentTarget.style.borderColor=""},onDrop:e=>{e.preventDefault(),e.currentTarget.style.borderColor="",l&&l(e,n)},children:[(0,g.jsxs)("div",{className:"w-32 h-40 bg-stone-950 border-2 border-stone-600 overflow-hidden relative shadow-lg shrink-0 mt-2",children:[!p&&n.profile?(0,g.jsx)("img",{src:n.profile,alt:n.name,className:"w-full h-full object-cover",onError:()=>m(!0)},n.profile):null,(0,g.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-stone-600 font-bold text-3xl -z-10 bg-stone-900 ".concat(!n.profile||p?"z-0":"-z-10"),children:n.name?n.name.substring(0,2).toUpperCase():"??"})]}),(0,g.jsxs)("div",{className:"flex-1 w-full flex flex-col gap-2 items-center text-center min-h-0 overflow-hidden",children:[(0,g.jsx)("h3",{className:"font-serif font-bold text-lg truncate w-full ".concat(r?"text-amber-100":"text-stone-200"),children:n.name}),(0,g.jsxs)("div",{className:"flex gap-4 text-sm font-mono font-bold text-stone-300 bg-black/40 px-3 py-1 rounded-full border border-stone-800 shrink-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-1 text-red-400",children:[(0,g.jsx)(x,{size:14,fill:"currentColor"})," ",n.hp,"/",n.maxHp]}),(0,g.jsxs)("div",{className:"flex items-center gap-1 text-blue-400",children:[(0,g.jsx)(_,{size:14,fill:"currentColor"})," ",n.defense]}),(0,g.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[(0,g.jsx)(w,{size:14,fill:"currentColor"})," ",n.speed]})]}),(0,g.jsx)("div",{className:"flex gap-1 overflow-x-auto no-scrollbar w-full justify-center min-h-[32px] shrink-0 px-2",children:n.equipment&&n.equipment.length>0?n.equipment.map((e,t)=>(0,g.jsxs)("div",{title:"".concat(e.name,"\n").concat(e.description),onClick:t=>{t.stopPropagation(),c&&c(e)},className:"\n                                    w-8 h-8 rounded border flex items-center justify-center relative transition-all group shrink-0\n                                    ".concat("WEAPON"===e.type?"bg-red-900/30 border-red-500/50":"","\n                                    ").concat("ARMOR"===e.type?"bg-blue-900/30 border-blue-500/50":"","\n                                    ").concat("ACCESSORY"===e.type?"bg-amber-900/30 border-amber-500/50":"","\n                                    ").concat(c?"hover:bg-red-900/80 cursor-alias":"cursor-help","\n                                "),children:["WEAPON"===e.type&&(0,g.jsx)(f,{size:14,className:"text-red-300"}),"ARMOR"===e.type&&(0,g.jsx)(_,{size:14,className:"text-blue-300"}),"ACCESSORY"===e.type&&(0,g.jsx)(w,{size:14,className:"text-amber-300"}),c&&(0,g.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 group-hover:opacity-100 rounded",children:(0,g.jsx)("span",{className:"text-[10px] text-red-400 font-bold",children:"X"})})]},t)):(0,g.jsx)("div",{className:"w-full text-center border border-dashed border-stone-800 rounded py-1",children:(0,g.jsx)("span",{className:"text-[10px] text-stone-600 italic",children:"Drag Equipment Here"})})}),(0,g.jsx)("div",{className:"w-full h-px bg-stone-800/80 my-1 shrink-0"}),(0,g.jsxs)("div",{className:"w-full flex-1 flex flex-col gap-1.5 pr-2 min-h-0 relative transition-all duration-300 ".concat(r?"overflow-y-auto":"overflow-hidden"),children:[u.map((e,t)=>{let n=k,a="text-purple-400",i="border-purple-900/30";return"OFFENSIVE"===e.type&&(n=f,a="text-red-400",i="border-red-900/30"),"DEFENSIVE"===e.type&&(n=S,a="text-orange-400",i="border-orange-900/30"),e.trigger&&"ACTION_PHASE"!==e.trigger&&(n=E,a="text-emerald-400",i="border-emerald-900/30"),(0,g.jsxs)("div",{className:"text-left bg-stone-950/60 p-1.5 rounded border ".concat(i," hover:bg-stone-900 transition-colors group relative cursor-help shrink-0"),onMouseEnter:()=>h(t),onMouseLeave:()=>h(null),children:[(0,g.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,g.jsx)(n,{size:12,className:a}),(0,g.jsx)("span",{className:"text-xs font-bold text-stone-300 truncate",children:e.name})]}),r&&(0,g.jsx)("div",{className:"text-[10px] text-stone-500 leading-tight max-h-[100px] overflow-y-auto pr-1",children:e.description})]},t)}),0===u.length&&(0,g.jsx)("span",{className:"text-xs text-stone-600 italic",children:"No Skills Learned"})]})]})]})};class A{constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.options=e.options||[]}}const z=[new A({id:"blessings",name:"Divine Blessings",description:"A warm light bathes the hall. The gods offer their aid.",options:[{label:"2 Random Heroes +1 HP",action:e=>{const t=[...e.roster],n=[];for(;n.length<2&&n.length<t.length;){const e=Math.floor(Math.random()*t.length);n.includes(e)||n.push(e)}const r=[];return n.forEach(e=>{t[e]=Object.assign(Object.create(Object.getPrototypeOf(t[e])),t[e]),t[e].hp=Math.min(t[e].hp+1,t[e].maxHp),t[e].maxHp=Math.min(t[e].maxHp+1,99),r.push(t[e].name)}),{message:"The gods smile. ".concat(r.join(" and ")," gained +1 Health."),roster:t}}},{label:"1 Random Hero +1 Speed",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].speed=Math.min(t[n].speed+1,9),{message:"".concat(t[n].name," feels lighter. Gained +1 Speed."),roster:t}}},{label:"1 Random Hero +3 HP, -1 Speed",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].hp=Math.min(t[n].hp+3,99),t[n].maxHp=Math.min(t[n].maxHp+3,99),t[n].speed=Math.max(t[n].speed-1,1),{message:"".concat(t[n].name," is imbued with heavy power. +3 HP, -1 Speed."),roster:t}}}]}),new A({id:"faith",name:"Fever of Faith",description:"A frantic zealot demands a test of faith.",options:[{label:"Roll the Dice (4+ for Mass Heal)",action:e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.floor(Math.random()*e)+1}(6),n=[...e.roster];let r="";if(t>=4)n.forEach((e,t)=>{n[t]=Object.assign(Object.create(Object.getPrototypeOf(e)),e),n[t].hp=Math.min(n[t].hp+1,99),n[t].maxHp=Math.min(n[t].maxHp+1,99)}),r="Faith rewarded! Dice: ".concat(t,". All heroes gained +1 Health.");else{const e=Math.floor(Math.random()*n.length);n[e]=Object.assign(Object.create(Object.getPrototypeOf(n[e])),n[e]),n[e].speed=Math.max(n[e].speed-2,1),r="Faith tested. Dice: ".concat(t,". ").concat(n[e].name," lost 2 Speed.")}return{message:r,roster:n}}},{label:"Walk Away",action:()=>({message:"You chose not to tempt fate. Nothing happens."})}]}),new A({id:"fortune",name:"Wheel of Fortune",description:"A mysterious traveler offers to rewrite destiny.",options:[{label:"Change One Hero's Defensive Skill",type:"target",action:(e,t)=>{var n;const r=[...e.roster],a=r.findIndex(e=>e.id===t);if(-1===a)return{message:"Error: Hero not found."};r[a]=Object.assign(Object.create(Object.getPrototypeOf(r[a])),r[a]);const i=r.filter(e=>e.id!==t);if(0===i.length)return{message:"Not enough heroes to swap skill."};const s=i[Math.floor(Math.random()*i.length)];return r[a].defensiveSkillId=s.defensiveSkillId,r[a].defensiveDesc=s.defensiveDesc||(null===(n=C[s.defensiveSkillId])||void 0===n?void 0:n.description),{message:"".concat(r[a].name," lost their old ways and learned ").concat(s.name,"'s defensive skill."),roster:r}}},{label:"Steal Knowledge at a Cost",type:"target",action:(e,t)=>{const n=[...e.roster],r=n.findIndex(e=>e.id===t);if(-1===r)return{message:"Error: Hero not found."};n[r]=Object.assign(Object.create(Object.getPrototypeOf(n[r])),n[r]);const a=n.filter(e=>e.id!==t);if(0===a.length)return{message:"Not enough heroes to steal from."};const i=a[Math.floor(Math.random()*a.length)],s=n.findIndex(e=>e.id===i.id);return n[s]=Object.assign(Object.create(Object.getPrototypeOf(n[s])),n[s]),n[r].defensiveSkillId=i.defensiveSkillId,n[r].defensiveDesc=i.defensiveDesc,n[s].defensiveSkillId=null,n[s].defensiveDesc="None (Lost to Fortune)",{message:"".concat(n[r].name," learned from ").concat(i.name,". But ").concat(i.name," forgot their skill in the chaos."),roster:n}}}]}),new A({id:"minstrel",name:"Wandering Minstrel",description:"A bard plays a soothing melody, lifting spirits.",options:[{label:"Listen (Heal Party)",action:e=>({message:"The music soothes the soul. Party healed +2 HP.",roster:e.roster.map(e=>{const t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.hp=Math.min(t.hp+2,t.maxHp),t})})},{label:"Ignore",action:()=>({message:"You walk past the minstrel, focused on your goal."})}]}),new A({id:"lost_purse",name:"Lost Purse",description:"You find a heavy purse dropped on the floor.",options:[{label:"Take it (Gain Gold)",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].maxHp+=2,t[n].hp+=2,{message:"Found gold! ".concat(t[n].name," bought a hearty meal. +2 Max HP."),roster:t}}},{label:"Leave it",action:()=>({message:"You leave the purse for its owner."})}]}),new A({id:"arm_wrestling",name:"Arm Wrestling Challenge",description:"A burly warrior challenges your strongest to verify their might.",options:[{label:"Accept Challenge",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length),r=t[n],a=Math.random()>.4;return t[n]=Object.assign(Object.create(Object.getPrototypeOf(r)),r),a?(t[n].maxHp+=2,{message:"".concat(r.name," won the match! Gained +2 Max HP."),roster:t}):(t[n].hp=Math.max(1,t[n].hp-2),{message:"".concat(r.name," lost and strained a muscle. -2 HP."),roster:t})}}]}),new A({id:"old_beggar",name:"Old Beggar",description:"An old man asks for a coin.",options:[{label:"Give Coin (Lose HP, Gain Speed)",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].hp=Math.max(1,t[n].hp-1),t[n].speed=Math.min(t[n].speed+1,9),{message:"".concat(t[n].name," gave food. Good karma lightens the step. -1 HP, +1 Speed."),roster:t}}},{label:"Shoo him away",action:()=>({message:"The beggar leaves, muttering."})}]}),new A({id:"strange_potion",name:"Strange Potion",description:"A vial of glowing purple liquid sits on a table.",options:[{label:"Drink it",type:"target",action:(e,t)=>{const n=[...e.roster],r=n.findIndex(e=>e.id===t);if(-1===r)return{message:"Hero not found."};n[r]=Object.assign(Object.create(Object.getPrototypeOf(n[r])),n[r]);const a=Math.random();return a<.33?(n[r].maxHp+=5,n[r].hp+=5,{message:"It was a Potion of Vitality! +5 Max HP.",roster:n}):a<.66?(n[r].hp=Math.max(1,n[r].hp-5),{message:"It was poison! -5 HP.",roster:n}):(n[r].speed=Math.min(n[r].speed+2,9),{message:"It tasted like coffee. +2 Speed.",roster:n})}},{label:"Discard it",action:()=>({message:"Better safe than sorry."})}]}),new A({id:"training_dummy",name:"Training Dummy",description:"An unused training dummy stands in the corner.",options:[{label:"Practice (Gain XP/HP)",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].maxHp+=1,{message:"".concat(t[n].name," practiced some moves. +1 Max HP."),roster:t}}}]}),new A({id:"map_merchant",name:"Map Merchant",description:'A shady figure tries to sell you a "treasure map".',options:[{label:"Buy it (Lose Speed, Gain Fortune?)",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].speed=Math.max(1,t[n].speed-1),Math.random()>.5?(t[n].maxHp+=4,{message:"The map led to a hidden cache! +4 Max HP, -1 Speed (Travel time).",roster:t}):{message:"The map was a fake. You wasted time. -1 Speed.",roster:t}}},{label:"Ignore",action:()=>({message:"Not interested in scams today."})}]}),new A({id:"local_brawl",name:"Local Brawl",description:"A fight breaks out in the tavern!",options:[{label:"Join In",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),t[n].hp=Math.max(1,t[n].hp-2),t[n].maxHp+=1,{message:"".concat(t[n].name," got a black eye but feels tougher. -2 HP, +1 Max HP."),roster:t}}},{label:"Watch",action:()=>({message:"You watch the chaos unfold comfortably."})}]}),new A({id:"quiet_prayer",name:"Quiet Prayer",description:"You find a small shrine in the hallway.",options:[{label:"Pray",action:e=>({message:"A moment of peace. Everyone heals +1 HP.",roster:e.roster.map(e=>{const t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.hp=Math.min(t.hp+1,t.maxHp),t})})}]}),new A({id:"rat_problem",name:"Rat Problem",description:"Giant rats are chewing the supplies!",options:[{label:"Exterminate",action:e=>{const t=[...e.roster],n=Math.floor(Math.random()*t.length);return t[n]=Object.assign(Object.create(Object.getPrototypeOf(t[n])),t[n]),Math.random()>.3?{message:"".concat(t[n].name," chased them off safely.")}:(t[n].hp=Math.max(1,t[n].hp-1),{message:"".concat(t[n].name," got bitten! -1 HP."),roster:t})}}]})],M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.floor(Math.random()*e)+1},O=t=>{let{gameState:n,setGameState:r,onBack:a}=t;const[i,s]=(0,e.useState)(null),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)("intro"),[f,h]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=n.lastEventLevel!==n.level;if(!i&&"intro"===u&&e){const e=z[Math.floor(Math.random()*z.length)];s(e)}},[u,i,n.level,n.lastEventLevel]);const p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a={gameState:n,roster:n.roster,rollDice:M},i=e.action(a,t);i.message&&c(i.message),r(e=>{const t=o(o({},e),{},{lastEventLevel:e.level});return i.roster&&(t.roster=i.roster),t}),d("result")};return(0,g.jsx)("div",{className:"flex-1 p-6 flex flex-col items-center justify-center animate-fade-in-up",children:(0,g.jsxs)("div",{className:"bg-stone-900 border-2 border-stone-700 p-8 max-w-2xl w-full text-center space-y-6 shadow-2xl",children:[(0,g.jsx)("div",{className:"flex justify-center text-amber-600 mb-4",children:(0,g.jsx)(y,{size:48})}),"intro"===u&&(0,g.jsx)(g.Fragment,{children:i?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h2",{className:"text-3xl font-serif text-amber-100",children:i.name}),(0,g.jsx)("p",{className:"text-stone-400 italic",children:i.description}),(0,g.jsx)("div",{className:"space-y-4 mt-6",children:i.options.map((e,t)=>(0,g.jsx)(v,{onClick:()=>{var t;"target"===(t=e).type?(h(t),d("target_selection")):p(t)},children:e.label},t))})]}):(0,g.jsxs)("div",{className:"space-y-4 py-8",children:[(0,g.jsx)("h2",{className:"text-3xl font-serif text-stone-600",children:"The Hall is Quiet"}),(0,g.jsx)("p",{className:"text-stone-500 italic",children:"No more souls seek your attention at this depth."}),(0,g.jsx)(v,{onClick:a,variant:"secondary",children:"Leave"})]})}),"target_selection"===u&&(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("h3",{className:"text-xl text-stone-200",children:"Select Target Hero"}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-left bg-stone-950 p-4 rounded-lg max-h-96 overflow-y-auto",children:n.roster.map(e=>(0,g.jsx)(T,{char:e,onClick:()=>{return t=e.id,void(f&&p(f,t));var t}},e.id))}),(0,g.jsx)(v,{onClick:()=>d("intro"),variant:"secondary",children:"Cancel"})]}),"result"===u&&(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)("h3",{className:"text-xl text-amber-100",children:"Result"}),(0,g.jsx)("p",{className:"text-stone-300",children:l}),(0,g.jsx)(v,{onClick:a,primary:!0,children:"Return to Castle"})]})]})})},I=u("Tent",[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]]),D=u("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),P=u("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),R=u("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),L=u("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),F=u("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),B=u("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),U=u("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),H=u("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),W=u("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),V=u("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),G=e=>{let{item:t,isEquipped:n,onClick:r,showEquipStatus:a=!1}=e,i=W,s="text-stone-400",o="border-stone-600";"WEAPON"===t.type&&(i=f,s="text-red-400",o="border-red-900/50"),"ARMOR"===t.type&&(i=_,s="text-blue-400",o="border-blue-900/50"),"ACCESSORY"===t.type&&(i=V,s="text-amber-400",o="border-amber-900/50");return(0,g.jsxs)("div",{draggable:!n,onDragStart:e=>{n||(e.dataTransfer.setData("item",JSON.stringify(t)),e.dataTransfer.effectAllowed="move")},onClick:r,title:t.description,className:"\n                relative flex flex-col items-center justify-center gap-1 p-2 border-2 rounded bg-stone-900/80 \n                w-24 h-32 cursor-grab active:cursor-grabbing hover:bg-stone-800 transition-all group shrink-0\n                ".concat(o,"\n                ").concat(n?"opacity-50 grayscale":"hover:scale-105 shadow-lg","\n            "),children:[(0,g.jsx)("div",{className:"p-2 rounded-full bg-stone-950 border border-stone-800 ".concat(s),children:(0,g.jsx)(i,{size:24})}),(0,g.jsx)("div",{className:"text-xs font-bold text-center text-stone-300 leading-tight line-clamp-2",children:t.name}),(0,g.jsx)("div",{className:"mt-1 text-[9px] text-stone-500 font-mono",children:t.type}),(0,g.jsxs)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-stone-950 border border-stone-700 p-2 rounded shadow-2xl z-50 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1",children:[(0,g.jsx)("div",{className:"font-bold text-xs ".concat(s),children:t.name}),(0,g.jsx)("div",{className:"text-[10px] text-stone-400 italic",children:t.description})]}),a&&n&&(0,g.jsx)("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full shadow-[0_0_5px_lime]"})]})},q=t=>{let{gameState:n,setGameState:r,onEmbark:a,onBack:i}=t;const[s,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(0),[d,f]=(0,e.useState)(7),[h,p]=(0,e.useState)(6),[m,b]=(0,e.useState)("selectedProps"),y=(0,e.useMemo)(()=>{const e=n.activeTeam,t=[...n.roster];return[...t.filter(t=>e.includes(t.id)),...t.filter(t=>!e.includes(t.id))]},[n.roster,n.activeTeam]),x=Math.ceil(y.length/d),_=y.slice(s*d,(s+1)*d),w=n.inventory||[],k=Math.ceil(w.length/h),S=w.slice(c*h,(c+1)*h);(0,e.useEffect)(()=>{r(e=>{const t=e.roster.map(t=>t.equipment&&t.equipment.length>0&&!e.activeTeam.includes(t.id)?Object.assign(Object.create(Object.getPrototypeOf(t)),t,{equipment:[]}):t),n=[...e.inventory||[]];return e.roster.forEach(t=>{t.equipment&&t.equipment.length>0&&!e.activeTeam.includes(t.id)&&n.push(...t.equipment)}),o(o({},e),{},{roster:t,inventory:n})})},[]);const E=(e,t)=>{const n=e.dataTransfer.getData("item");if(!n)return;const a=JSON.parse(n),i=t.equipment||[];i.length>=3?alert("This hero cannot carry more equipment!"):i.some(e=>e.type===a.type)?alert("This hero already has a ".concat(a.type," equipped!")):r(e=>{const n=[...e.inventory],r=n.findIndex(e=>e.id===a.id);if(-1===r)return e;n.splice(r,1);const i=e.roster.map(e=>{if(e.id===t.id){const t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.equipment=[...t.equipment||[],a],t}return e});return o(o({},e),{},{inventory:n,roster:i})})};return(0,g.jsxs)("div",{className:"flex-1 flex flex-col h-full bg-stone-950 overflow-y-auto overflow-x-hidden animate-fade-in-up font-serif selection:bg-amber-900/50",children:[(0,g.jsxs)("div",{className:"h-20 flex justify-between items-center px-8 bg-stone-900 border-b-2 border-amber-900/50 shadow-2xl shrink-0 z-50 sticky top-0",children:[(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsxs)("h1",{className:"text-3xl font-bold text-amber-100 flex items-center gap-3 tracking-wide drop-shadow-md",children:[(0,g.jsx)(I,{className:"text-amber-500 stroke-2",size:28}),"Expedition Office"]}),(0,g.jsx)("span",{className:"text-xs text-stone-500 tracking-widest uppercase ml-10 mt-1",children:"Prepare Your Forces"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-6",children:[(0,g.jsx)(v,{onClick:i,className:"w-40 px-8 h-14 border border-stone-600 bg-stone-800 text-stone-300 hover:text-stone-100 hover:bg-stone-700 shadow-lg rounded-sm transition-all hover:-translate-y-0.5",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("span",{children:"Back"}),(0,g.jsx)(D,{size:20,strokeWidth:3})]})}),(0,g.jsx)(v,{onClick:a,disabled:0===n.activeTeam.length,primary:!0,className:"w-40 px-8 h-14 text-lg font-bold shadow-[0_0_20px_rgba(245,158,11,0.4)] hover:shadow-[0_0_30px_rgba(245,158,11,0.6)] border border-amber-500/50 rounded-sm transition-all hover:-translate-y-0.5 flex items-center gap-2",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("span",{children:"EMBARK"}),(0,g.jsx)(P,{size:20,strokeWidth:3})]})})]})]}),(0,g.jsxs)("div",{className:"flex-1 flex flex-col min-h-[500px] relative",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center px-8 py-4 bg-stone-900/90 border-b border-stone-800/80 backdrop-blur-md z-20 shadow-lg sticky top-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("div",{className:"bg-gradient-to-br from-stone-700 to-stone-900 p-2 rounded shadow-inner border border-stone-600 text-amber-500",children:(0,g.jsx)(R,{size:20})}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("h2",{className:"text-base font-bold text-stone-200 uppercase tracking-wider",children:"Roster Selection"}),(0,g.jsxs)("span",{className:"text-xs text-stone-500 font-sans",children:["Active Team: ",(0,g.jsxs)("strong",{className:"text-amber-400 ".concat(4===n.activeTeam.length?"animate-pulse":""),children:[n.activeTeam.length,"/4"]})]})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-6",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)(v,{onClick:()=>{r(e=>o(o({},e),{},{activeTeam:[]}))},className:"w-40 h-16 px-4 text-xs font-bold border border-stone-700 bg-stone-800 text-stone-400 hover:text-red-400 hover:border-red-900/50 hover:bg-stone-900 shadow-sm rounded-sm transition-all",title:"Unselect All Heroes",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(L,{size:20}),(0,g.jsx)("span",{children:"CLEAR"})]})}),(0,g.jsx)("div",{className:"w-px h-8 bg-stone-800 mx-2"}),(0,g.jsx)(v,{onClick:()=>f(e=>6===e?4:4===e?9:6),className:"w-40 h-16 px-4 text-xs font-bold border border-stone-700 bg-stone-800 text-amber-500 hover:text-amber-300 hover:border-amber-900/50 hover:bg-stone-900 shadow-sm rounded-sm transition-all",title:"Toggle Grid Size",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(F,{size:18}),(0,g.jsxs)("span",{children:["SLOTS: ",d]})]})})]}),(0,g.jsxs)("div",{className:"flex items-center gap-1 bg-stone-950/50 rounded p-1 border border-stone-800/50 shadow-inner",children:[(0,g.jsx)(v,{onClick:()=>l(e=>Math.max(0,e-1)),disabled:0===s,className:"w-6 h-14 p-0 rounded hover:bg-stone-800 border-none text-stone-400 hover:text-amber-500",children:(0,g.jsx)(B,{size:18})}),(0,g.jsxs)("span",{className:"text-stone-300 text-sm font-mono font-bold min-w-[3rem] text-center",children:[s+1," / ",Math.max(1,x)]}),(0,g.jsx)(v,{onClick:()=>l(e=>Math.min(x-1,e+1)),disabled:s>=x-1,className:"w-6 h-14 p-0 rounded hover:bg-stone-800 border-none text-stone-400 hover:text-amber-500",children:(0,g.jsx)(U,{size:18})})]})]})]}),(0,g.jsxs)("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-stone-900/40 via-stone-950 to-stone-950 flex items-center justify-center relative shadow-inner min-h-[460px]",children:[(0,g.jsx)("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none",style:{backgroundImage:"linear-gradient(45deg, #1c1917 25%, transparent 25%), linear-gradient(-45deg, #1c1917 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #1c1917 75%), linear-gradient(-45deg, transparent 75%, #1c1917 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),(0,g.jsxs)("div",{className:"flex gap-6 items-center z-10 px-8 min-w-min",children:[_.map(e=>(0,g.jsx)(T,{char:e,isSelected:n.activeTeam.includes(e.id),onClick:()=>(e=>{const t=n.activeTeam;t.includes(e)?r(n=>o(o({},n),{},{activeTeam:t.filter(t=>t!==e)})):t.length<4&&r(n=>o(o({},n),{},{activeTeam:[...t,e]}))})(e.id),onDrop:E,onUnequip:t=>((e,t)=>{r(n=>{const r=n.roster.map(n=>{if(n.id===t.id){const t=Object.assign(Object.create(Object.getPrototypeOf(n)),n);return t.equipment=t.equipment.filter(t=>t.type!==e.type&&t.name!==e.name),t}return n});return o(o({},n),{},{roster:r,inventory:[...n.inventory,e]})})})(t,e)},e.id)),0===_.length&&(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2 opacity-50",children:[(0,g.jsx)(R,{size:48,className:"text-stone-700"}),(0,g.jsx)("div",{className:"text-stone-500 italic font-serif text-lg",children:"No heroes available in this sector."})]})]})]})]}),(0,g.jsxs)("div",{className:"h-80 bg-stone-950 border-t-4 border-stone-800/80 flex flex-col shrink-0 z-30 shadow-[0_-10px_50px_rgba(0,0,0,0.9)] relative",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center px-8 py-3 bg-stone-900 border-b border-stone-800 shadow-md",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("div",{className:"bg-gradient-to-br from-stone-800 to-stone-950 p-2 rounded shadow-inner border border-stone-700 text-blue-400",children:(0,g.jsx)(H,{size:20})}),(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("h3",{className:"text-sm font-bold text-stone-200 uppercase tracking-wider",children:"Equipment Storage"}),(0,g.jsxs)("span",{className:"text-xs text-stone-500 font-sans",children:["Available: ",(0,g.jsx)("strong",{className:"text-blue-400",children:w.length})]})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-6",children:[(0,g.jsx)("div",{className:"flex items-center",children:(0,g.jsx)(v,{onClick:()=>p(e=>6===e?4:4===e?9:6),className:"flex items-center justify-center w-40 h-14 px-4 text-xs font-bold border border-stone-700 bg-stone-800 text-blue-400 hover:text-blue-300 hover:border-blue-900/50 hover:bg-stone-900 shadow-sm rounded-sm transition-all",title:"Toggle Slot Size",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(F,{size:20,className:"mr-2"}),(0,g.jsxs)("span",{children:["SLOTS: ",h]})]})})}),(0,g.jsxs)("div",{className:"flex items-center gap-1 bg-stone-950/50 rounded p-1 border border-stone-800/50 shadow-inner",children:[(0,g.jsx)(v,{onClick:()=>u(e=>Math.max(0,e-1)),disabled:0===c,className:"w-6 h-14 p-0 rounded hover:bg-stone-800 border-none text-stone-400 hover:text-blue-500",children:(0,g.jsx)(B,{size:16})}),(0,g.jsxs)("span",{className:"text-stone-300 text-xs font-mono font-bold min-w-[3rem] text-center",children:[c+1," / ",Math.max(1,k)]}),(0,g.jsx)(v,{onClick:()=>u(e=>Math.min(k-1,e+1)),disabled:c>=k-1,className:"w-6 h-14 p-0 rounded hover:bg-stone-800 border-none text-stone-400 hover:text-blue-500",children:(0,g.jsx)(U,{size:16})})]})]})]}),(0,g.jsxs)("div",{className:"flex-1 p-6 bg-stone-900 flex items-center justify-center gap-6 overflow-hidden relative shadow-inner",children:[(0,g.jsx)("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"radial-gradient(#3b82f6 1px, transparent 1px)",backgroundSize:"24px 24px"}}),S.length>0?S.map((e,t)=>(0,g.jsx)(G,{item:e},"inv-".concat(t,"-").concat(e.id))):(0,g.jsxs)("div",{className:"border-2 border-dashed border-stone-800/50 rounded-xl px-16 py-8 flex flex-col items-center gap-3 text-stone-600",children:[(0,g.jsx)(H,{size:40,className:"opacity-30"}),(0,g.jsx)("span",{className:"text-sm italic font-serif",children:"Storage is empty"})]})]})]})]})},Z=e=>{let{title:t,onClose:n,children:r}=e;return(0,g.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-6 bg-black/60 backdrop-blur-sm animate-fade-in-up",children:(0,g.jsxs)("div",{className:"relative w-full max-w-2xl bg-stone-900 border-2 border-amber-900/50 shadow-[0_0_50px_rgba(0,0,0,0.8)] flex flex-col max-h-full",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-stone-800 bg-stone-950/50",children:[(0,g.jsx)("h2",{className:"text-2xl font-serif text-amber-500 tracking-wider",children:t}),(0,g.jsx)("button",{onClick:n,className:"p-1 text-stone-500 hover:text-amber-500 hover:bg-stone-800 rounded transition-colors","aria-label":"Close",children:(0,g.jsx)(L,{size:24})})]}),(0,g.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:r}),(0,g.jsx)("div",{className:"h-1 bg-gradient-to-r from-transparent via-amber-900/50 to-transparent w-full mt-auto"})]})})},K=u("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Y=u("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),$=u("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]),Q=u("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);class X{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.population=void 0!==e.population?e.population:1e3,this.working_population=void 0!==e.working_population?e.working_population:800,this.non_working_population=void 0!==e.non_working_population?e.non_working_population:200,this.assigned_workshop=e.assigned_workshop||0,this.assigned_barracks=e.assigned_barracks||0,this.land_developed=void 0!==e.land_developed?e.land_developed:500,this.land_capacity=void 0!==e.land_capacity?e.land_capacity:2e3,this.happiness=void 0!==e.happiness?e.happiness:80,this.tax_rate=void 0!==e.tax_rate?e.tax_rate:10,this.gold=void 0!==e.gold?e.gold:500,this.supplies_sent=e.supplies_sent||0,this.current_supplies=e.current_supplies||10}get working_population_at_manors(){return Math.max(0,this.working_population-this.assigned_workshop-this.assigned_barracks)}get projected_income(){return Math.floor(Math.min(this.working_population_at_manors,this.land_developed)*(this.tax_rate/100))}get projected_consumption(){return Math.floor(.01*this.population)}processEndOfTurn(){const e=this.projected_income;this.gold+=e,this.tax_rate>20?this.happiness-=.5*(this.tax_rate-20):this.tax_rate<10&&(this.happiness+=.5*(10-this.tax_rate)),this.population>this.land_capacity&&(this.happiness-=15),this.happiness=Math.max(0,Math.min(100,this.happiness));let t=0;t=this.happiness>80?1.05:this.happiness>50?1.02:this.happiness>30?.98:.9,this.population=Math.floor(this.population*t),this.working_population=Math.floor(.8*this.population),this.non_working_population=this.population-this.working_population;let n=this.assigned_workshop+this.assigned_barracks-this.working_population;if(n>0){const e=Math.min(this.assigned_barracks,n);this.assigned_barracks-=e,n-=e,n>0&&(this.assigned_workshop=Math.max(0,this.assigned_workshop-n))}if(this.happiness>60&&this.gold>50&&this.working_population_at_manors>this.land_developed){const e=Math.min(50,this.land_capacity-this.land_developed);this.land_developed+=e,this.gold-=50}let r=1;return Math.random()<.1&&(r=.8),this.current_supplies=Math.floor(this.supplies_sent*r),this.supplies_sent=0,this}static processVictory(e){let t=new X(e);return t.happiness+=10,t.processEndOfTurn()}static clone(e){return new X(e)}}const J=e=>{let{onClose:t,gameState:n,setGameState:r}=e;const a=new X(n.economy);return(0,g.jsx)(Z,{title:"The Keep",onClose:t,children:(0,g.jsxs)("div",{className:"flex flex-col gap-6 text-stone-300 w-full max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,g.jsx)("div",{className:"p-4 bg-stone-950 rounded-full border-2 border-amber-700 text-amber-500",children:(0,g.jsx)(K,{size:32})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl text-stone-100 font-serif",children:"Manor Administration"}),(0,g.jsx)("p",{className:"text-stone-400 text-sm",children:"Manage taxes, review population, and oversee land development."})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mt-2",children:[(0,g.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded p-4 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-stone-300",children:[(0,g.jsx)(R,{size:18,className:"text-amber-500"}),(0,g.jsx)("span",{className:"font-serif text-lg",children:"Population"})]}),(0,g.jsx)("div",{className:"text-3xl text-amber-100 mb-2 font-serif",children:a.population}),(0,g.jsxs)("div",{className:"text-stone-400 flex flex-col gap-1 mt-2",children:[(0,g.jsxs)("div",{className:"flex justify-between border-b border-stone-800 pb-1",children:[(0,g.jsx)("span",{children:"Working (Manors):"})," ",(0,g.jsx)("span",{className:"text-amber-200",children:a.working_population_at_manors})]}),(0,g.jsxs)("div",{className:"flex justify-between border-b border-stone-800 py-1",children:[(0,g.jsx)("span",{children:"Non-Working:"})," ",(0,g.jsx)("span",{children:a.non_working_population})]}),(0,g.jsxs)("div",{className:"flex justify-between border-b border-stone-800 py-1",children:[(0,g.jsx)("span",{children:"Assigned (Barracks):"})," ",(0,g.jsx)("span",{children:a.assigned_barracks})]}),(0,g.jsxs)("div",{className:"flex justify-between pt-1",children:[(0,g.jsx)("span",{children:"Assigned (Workshops):"})," ",(0,g.jsx)("span",{children:a.assigned_workshop})]})]})]}),(0,g.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded p-4 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-stone-300",children:[(0,g.jsx)(Y,{size:18,className:"text-amber-500"}),(0,g.jsx)("span",{className:"font-serif text-lg",children:"Land & Territory"})]}),(0,g.jsxs)("div",{className:"text-3xl text-amber-100 mb-1 font-serif",children:[a.land_developed," ",(0,g.jsxs)("span",{className:"text-sm text-stone-500",children:["/ ",a.land_capacity]})]}),(0,g.jsx)("div",{className:"mt-auto text-stone-400 text-xs italic bg-stone-950/50 p-2 rounded",children:"Developing more land requires high happiness (>60%), spare working population, and gold."})]}),(0,g.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded p-5 flex flex-col col-span-2",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 text-stone-300",children:[(0,g.jsx)($,{size:24,className:"text-amber-500"}),(0,g.jsx)("span",{className:"font-serif text-xl",children:"Happiness Index:"}),(0,g.jsxs)("span",{className:"text-2xl font-bold ml-2 ".concat(a.happiness>70?"text-green-500":a.happiness<40?"text-red-500":"text-amber-500"),children:[a.happiness,"%"]})]}),(0,g.jsx)("div",{className:"flex items-center gap-4 text-sm font-semibold",children:(0,g.jsxs)("div",{className:"flex items-center gap-1 text-green-500 bg-green-500/10 px-3 py-1 rounded",children:[(0,g.jsx)(Q,{size:16})," +",a.projected_income," Gold/Turn"]})})]}),(0,g.jsxs)("div",{className:"text-stone-300",children:[(0,g.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,g.jsx)("span",{className:"font-serif text-lg",children:"Tax Rate:"}),(0,g.jsxs)("span",{className:"text-amber-400 font-bold text-lg",children:[a.tax_rate,"%"]})]}),(0,g.jsx)("input",{type:"range",min:"0",max:"40",value:a.tax_rate,onChange:e=>{const t=parseInt(e.target.value,10);r(e=>{const n=new X(e.economy);return n.tax_rate=t,o(o({},e),{},{economy:n})})},className:"w-full h-3 bg-stone-800 rounded-lg appearance-none cursor-pointer accent-amber-600"}),(0,g.jsxs)("div",{className:"flex justify-between text-xs text-stone-500 mt-2",children:[(0,g.jsx)("span",{children:"0% (High Growth)"}),(0,g.jsx)("span",{children:"10-20% (Stable)"}),(0,g.jsx)("span",{children:"40% (Starvation & Rebellion)"})]})]})]})]})]})})},ee=u("Cross",[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z",key:"1t5g7j"}]]),te=u("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ne=e=>{let{onClose:t,gameState:n}=e;const r=new X(n.economy),a=r.happiness>=75;return(0,g.jsx)(Z,{title:"The Temple",onClose:t,children:(0,g.jsxs)("div",{className:"flex flex-col gap-6 text-stone-300 w-full max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-center mb-2",children:[(0,g.jsx)("div",{className:"p-4 bg-stone-950 rounded-full border-2 border-amber-700 text-amber-500",children:(0,g.jsx)(ee,{size:32})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl text-stone-100 font-serif",children:"Elite Recruitment"}),(0,g.jsx)("p",{className:"text-stone-400 text-sm",children:"Divine intervention and epic heroes answer to a prosperous realm."})]})]}),(0,g.jsx)("div",{className:"flex flex-col gap-4 bg-stone-900/50 border border-stone-800 rounded p-6 items-center text-center",children:a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h4",{className:"text-xl text-amber-400 font-serif mb-2",children:"The Golden Call"}),(0,g.jsx)("p",{className:"text-stone-300 text-sm max-w-sm mb-4",children:"The realm thrives, and rumors of greatness echo in the halls. You may spend vast sums of gold to recruit legends."}),(0,g.jsx)("p",{className:"text-stone-500 italic",children:"Advanced recruitment options pending."})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(te,{size:48,className:"text-stone-500 mb-2"}),(0,g.jsx)("h4",{className:"text-xl text-red-400 font-serif",children:"The Divines are Silent"}),(0,g.jsxs)("p",{className:"text-stone-400 text-sm max-w-sm",children:["The population is suffering (Happiness: ",r.happiness,"%). Elite heroes will only appear when the realm is prosperous (Requires 75% Happiness)."]})]})})]})})},re=e=>{let{onClose:t,gameState:n,setGameState:r}=e;const a=new X(n.economy),i=a.working_population-a.assigned_workshop,s=e=>{r(t=>{const n=new X(t.economy);let r=n.assigned_barracks+e;const a=n.working_population-n.assigned_workshop;return r=Math.max(0,Math.min(r,a)),n.assigned_barracks=r,o(o({},t),{},{economy:n})})};return(0,g.jsx)(Z,{title:"The Barracks",onClose:t,children:(0,g.jsxs)("div",{className:"flex flex-col gap-6 text-stone-300 w-full max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-center mb-2",children:[(0,g.jsx)("div",{className:"p-4 bg-stone-950 rounded-full border-2 border-amber-700 text-amber-500",children:(0,g.jsx)(S,{size:32})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl text-stone-100 font-serif",children:"Recruit Conscripts"}),(0,g.jsx)("p",{className:"text-stone-400 text-sm",children:"Assign working population to continuously train basic infantry."})]})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-4 bg-stone-900/50 border border-stone-800 rounded p-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-stone-300",children:[(0,g.jsx)(R,{size:18,className:"text-amber-500"}),(0,g.jsx)("span",{className:"font-serif text-lg",children:"Drill Master Assignment"})]}),(0,g.jsxs)("div",{className:"text-stone-400 text-sm mb-2 flex flex-col gap-1",children:[(0,g.jsxs)("p",{children:["Total Working Population Available: ",(0,g.jsx)("span",{className:"text-amber-100",children:a.working_population})]}),(0,g.jsxs)("p",{children:["Recruits Assigned Here: ",(0,g.jsx)("span",{className:"text-amber-400 font-bold",children:a.assigned_barracks})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-4 py-2 rounded border border-stone-700 transition-colors disabled:opacity-50",onClick:()=>s(-50),disabled:a.assigned_barracks<=0,children:"-50 Recruits"}),(0,g.jsx)("div",{className:"w-full h-2 bg-stone-950 rounded overflow-hidden",children:(0,g.jsx)("div",{className:"h-full bg-amber-600 transition-all duration-300",style:{width:"".concat(i>0?a.assigned_barracks/i*100:0,"%")}})}),(0,g.jsx)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-4 py-2 rounded border border-stone-700 transition-colors disabled:opacity-50",onClick:()=>s(50),disabled:a.assigned_barracks>=i,children:"+50 Recruits"})]}),0===a.assigned_barracks?(0,g.jsx)("div",{className:"text-red-400 text-sm text-center mt-2 p-2 bg-red-900/10 rounded",children:"No population assigned. The barracks are empty."}):(0,g.jsxs)("div",{className:"text-green-400 text-sm text-center mt-2",children:[a.assigned_barracks," conscripts are training for the next battle."]})]}),(0,g.jsx)("div",{className:"w-full mt-2 p-8 border-2 border-dashed border-stone-800 rounded-lg flex flex-col items-center justify-center text-stone-600 gap-2 bg-stone-900/50",children:(0,g.jsx)("p",{className:"text-center",children:"Basic conscript generation logic pending."})})]})})},ae=u("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),ie=u("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),se=e=>{let{onClose:t,gameState:n,setGameState:r}=e;const a=new X(n.economy),i=n.level+1,s=((n.activeTeam?n.activeTeam.length:3)+1)*i*2,l=e=>{a.gold<e||r(t=>{const n=new X(t.economy);return n.gold-=e,n.supplies_sent+=e,o(o({},t),{},{economy:n})})};return(0,g.jsx)(Z,{title:"The Stables",onClose:t,children:(0,g.jsxs)("div",{className:"flex flex-col gap-6 text-stone-300 w-full max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-center mb-2",children:[(0,g.jsx)("div",{className:"p-4 bg-stone-950 rounded-full border-2 border-amber-700 text-amber-500",children:(0,g.jsx)(H,{size:32})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl text-stone-100 font-serif",children:"Logistics & Supply Chains"}),(0,g.jsx)("p",{className:"text-stone-400 text-sm",children:"Invest gold to send supplies to the expedition frontlines. Supplies arrive at the start of the next level."})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded p-4 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-stone-300",children:[(0,g.jsx)(ae,{size:18,className:"text-amber-500"}),(0,g.jsx)("span",{className:"font-serif text-lg",children:"Next Campaign"})]}),(0,g.jsxs)("div",{className:"text-sm text-stone-400 mb-2",children:["Level ",i," Expedition"]}),(0,g.jsxs)("div",{className:"flex justify-between items-end border-b border-stone-800 pb-2 mb-2 text-sm",children:[(0,g.jsx)("span",{children:"Projected Need:"}),(0,g.jsxs)("span",{className:"text-amber-100 font-bold text-lg",children:[s," Units"]})]}),(0,g.jsxs)("div",{className:"flex justify-between items-end text-sm",children:[(0,g.jsx)("span",{children:"Supplies Sent:"}),(0,g.jsx)("span",{className:"font-bold text-lg ".concat(a.supplies_sent>=s?"text-green-500":"text-amber-500"),children:a.supplies_sent})]})]}),(0,g.jsxs)("div",{className:"bg-stone-900/50 border border-stone-800 rounded p-4 flex flex-col justify-center text-sm text-stone-400",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-stone-300",children:[(0,g.jsx)(ie,{size:18,className:"text-red-500"}),(0,g.jsx)("span",{className:"font-serif text-lg",children:"The Road is Perilous"})]}),(0,g.jsx)("p",{className:"mb-2",children:"There is a 10% chance that bandits or weather will intercept 20% of your shipment before it arrives."}),(0,g.jsxs)("p",{className:"italic text-xs bg-stone-950/50 p-2 rounded border border-stone-800/50",children:["Entering combat with insufficient supply causes ",(0,g.jsx)("span",{className:"text-red-400",children:"Starvation (-25% Max HP, -1 Speed)"}),"."]})]}),(0,g.jsxs)("div",{className:"col-span-2 bg-stone-900/50 border border-stone-800 rounded p-4 flex flex-col items-center",children:[(0,g.jsx)("span",{className:"text-stone-300 font-serif mb-2",children:"Fund Supply Wagons (1 Gold = 1 Supply)"}),(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsx)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-6 py-2 rounded border border-stone-700 transition-colors disabled:opacity-50",onClick:()=>l(10),disabled:a.gold<10,children:"Send 10 (10g)"}),(0,g.jsx)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-6 py-2 rounded border border-stone-700 transition-colors disabled:opacity-50",onClick:()=>l(50),disabled:a.gold<50,children:"Send 50 (50g)"}),(0,g.jsxs)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-6 py-2 rounded border border-amber-700 transition-colors disabled:opacity-50 text-amber-200",onClick:()=>l(s-a.supplies_sent),disabled:a.gold<s-a.supplies_sent||a.supplies_sent>=s,children:["Fill Needed (",s-a.supplies_sent>0?s-a.supplies_sent:0,"g)"]})]})]})]})]})})},oe=u("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),le=e=>{let{onClose:t,gameState:n,setGameState:r}=e;const a=new X(n.economy),i=a.working_population-a.assigned_barracks,s=e=>{r(t=>{const n=new X(t.economy);let r=n.assigned_workshop+e;const a=n.working_population-n.assigned_barracks;return r=Math.max(0,Math.min(r,a)),n.assigned_workshop=r,o(o({},t),{},{economy:n})})};return(0,g.jsx)(Z,{title:"The Workshops",onClose:t,children:(0,g.jsxs)("div",{className:"flex flex-col gap-6 text-stone-300 w-full max-w-2xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-center mb-2",children:[(0,g.jsx)("div",{className:"p-4 bg-stone-950 rounded-full border-2 border-amber-700 text-amber-500",children:(0,g.jsx)(oe,{size:32})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl text-stone-100 font-serif",children:"Crafting & Forging"}),(0,g.jsx)("p",{className:"text-stone-400 text-sm",children:"Assign working population to forge weapons, armor, and equipment."})]})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-4 bg-stone-900/50 border border-stone-800 rounded p-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-stone-300",children:[(0,g.jsx)(R,{size:18,className:"text-amber-500"}),(0,g.jsx)("span",{className:"font-serif text-lg",children:"Workforce Management"})]}),(0,g.jsxs)("div",{className:"text-stone-400 text-sm mb-2 flex flex-col gap-1",children:[(0,g.jsxs)("p",{children:["Total Working Population Available: ",(0,g.jsx)("span",{className:"text-amber-100",children:a.working_population})]}),(0,g.jsxs)("p",{children:["Workers Assigned Here: ",(0,g.jsx)("span",{className:"text-amber-400 font-bold",children:a.assigned_workshop})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-4 py-2 rounded border border-stone-700 transition-colors disabled:opacity-50",onClick:()=>s(-10),disabled:a.assigned_workshop<=0,children:"-10 Workers"}),(0,g.jsx)("div",{className:"w-full h-2 bg-stone-950 rounded overflow-hidden",children:(0,g.jsx)("div",{className:"h-full bg-amber-600 transition-all duration-300",style:{width:"".concat(i>0?a.assigned_workshop/i*100:0,"%")}})}),(0,g.jsx)("button",{className:"bg-stone-800 hover:bg-stone-700 text-stone-300 px-4 py-2 rounded border border-stone-700 transition-colors disabled:opacity-50",onClick:()=>s(10),disabled:a.assigned_workshop>=i,children:"+10 Workers"})]}),0===a.assigned_workshop?(0,g.jsx)("div",{className:"text-red-400 text-sm text-center mt-2 p-2 bg-red-900/10 rounded",children:"No workers assigned. The workshops are idle."}):(0,g.jsxs)("div",{className:"text-green-400 text-sm text-center mt-2",children:["The forges are burning! ",a.assigned_workshop," workers are crafting."]})]}),(0,g.jsx)("div",{className:"w-full mt-2 p-8 border-2 border-dashed border-stone-800 rounded-lg flex flex-col items-center justify-center text-stone-600 gap-2 bg-stone-900/50",children:(0,g.jsx)("p",{className:"text-center",children:"Crafting system currently requires allocated logic."})})]})})},ce=n.p+"static/media/The castle.97ef532765c8e72355de.png",ue=t=>{let{gameState:n,setGameState:r,onEmbark:a}=t;const[i,s]=(0,e.useState)("hub"),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(""),d=(null===n||void 0===n?void 0:n.lastEventLevel)!==(null===n||void 0===n?void 0:n.level),f=!d;if("gate"===i)return(0,g.jsx)(q,{gameState:n,setGameState:r,onEmbark:a,onBack:()=>s("hub")});return(0,g.jsxs)("div",{className:"h-screen w-full bg-stone-950 flex flex-col relative overflow-hidden text-amber-100 select-none animate-fade-in-up",children:[(0,g.jsxs)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-20 text-center pointer-events-none drop-shadow-md",children:[(0,g.jsx)("h1",{className:"text-5xl font-serif text-amber-500 tracking-tighter drop-shadow-[0_4px_4px_rgba(0,0,0,0.8)]",style:{fontFamily:'"MedievalSharp", cursive'},children:"The Stronghold"}),(0,g.jsxs)("p",{className:"text-stone-300 font-serif mt-2 tracking-widest uppercase text-sm drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]",children:["Level ",n.level]})]}),(0,g.jsx)("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 pointer-events-none transition-opacity duration-300 ".concat(c?"opacity-100":"opacity-0"),children:(0,g.jsx)("div",{className:"bg-stone-900/90 border border-amber-500/50 px-6 py-2 rounded-full shadow-[0_0_20px_rgba(0,0,0,0.8)] backdrop-blur-sm",children:(0,g.jsx)("span",{className:"font-serif tracking-widest text-lg text-amber-400 capitalize",children:c||"..."})})}),(0,g.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"relative max-w-full max-h-full aspect-video shadow-[0_0_50px_rgba(0,0,0,0.5)] border-2 border-stone-800 rounded-lg overflow-hidden flex items-center justify-center",children:[(0,g.jsx)("img",{src:ce,alt:"The Castle",className:"w-full h-full object-contain pointer-events-none"}),(0,g.jsxs)("svg",{viewBox:"0 0 2752 1536",className:"absolute inset-0 w-full h-full z-10",preserveAspectRatio:"xMidYMid meet",children:[(0,g.jsx)("defs",{children:(0,g.jsx)("style",{children:"\n                                    .hotspot {\n                                        fill: transparent;\n                                        stroke: transparent;\n                                        cursor: pointer;\n                                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n                                    }\n                                    .hotspot:hover {\n                                        stroke: rgba(245, 158, 11, 0.8);\n                                        stroke-width: 8px;\n                                        fill: rgba(245, 158, 11, 0.2);\n                                    }\n                                    .hotspot-available {\n                                        stroke: rgba(245, 158, 11, 0.4);\n                                        stroke-width: 4px;\n                                        animation: border-glow 2.5s infinite ease-in-out;\n                                    }\n                                    .hotspot-gate-highlight {\n                                        stroke: rgba(251, 191, 36, 0.6);\n                                        stroke-width: 6px;\n                                        animation: gate-glow 2s infinite ease-in-out;\n                                    }\n                                    @keyframes border-glow {\n                                        0% { stroke-opacity: 0.3; stroke-width: 3px; }\n                                        50% { stroke-opacity: 0.8; stroke-width: 6px; }\n                                        100% { stroke-opacity: 0.3; stroke-width: 3px; }\n                                    }\n                                    @keyframes gate-glow {\n                                        0% { stroke-opacity: 0.4; stroke-width: 4px; fill: rgba(251, 191, 36, 0.05); }\n                                        50% { stroke-opacity: 0.9; stroke-width: 10px; fill: rgba(251, 191, 36, 0.15); }\n                                        100% { stroke-opacity: 0.4; stroke-width: 4px; fill: rgba(251, 191, 36, 0.05); }\n                                    }\n                                    .hint-marker {\n                                        fill: #fbbf24;\n                                        animation: ripple 2s infinite cubic-bezier(0.4, 0, 0.2, 1);\n                                    }\n                                    @keyframes ripple {\n                                        0% { transform: scale(0.8); opacity: 0.8; }\n                                        50% { transform: scale(1.4); opacity: 0.4; }\n                                        100% { transform: scale(0.8); opacity: 0.8; }\n                                    }\n                                "})}),(0,g.jsx)("polygon",{className:"hotspot",points:"980,385 1014,431 1007,603 1298,798 1607,629 1605,399 1563,292 1483,448 1483,188 1441,82 1398,191 1324,160 1324,87 1281,26 1247,117 1243,169 1173,195 1126,65 1091,161 1095,373 1041,280",onClick:()=>l("keep"),onMouseEnter:()=>u("The Keep"),onMouseLeave:()=>u("")}),(0,g.jsx)("polygon",{className:"hotspot",points:"706,393 637,519 646,770 837,878 922,890 1014,849 1000,543 973,409 961,521 954,591 917,538",onClick:()=>l("temple"),onMouseEnter:()=>u("Gothic Temple"),onMouseLeave:()=>u("")}),(0,g.jsxs)("g",{children:[(0,g.jsx)("polygon",{className:"hotspot ".concat(d?"hotspot-available":""),points:"1537,727 1571,652 1644,696 1811,613 1883,693 1905,909 1591,1068 1444,1002 1452,747 1481,805",onClick:()=>l("hall"),onMouseEnter:()=>u("Great Hall"),onMouseLeave:()=>u("")}),d&&(0,g.jsx)("circle",{cx:"1670",cy:"850",r:"15",className:"hint-marker pointer-events-none"})]}),(0,g.jsx)("polygon",{className:"hotspot",points:"1680,389 1629,423 1621,532 1799,615 1896,561 1896,503 1867,474 1821,447 1738,408",onClick:()=>l("barracks"),onMouseEnter:()=>u("Barracks"),onMouseLeave:()=>u("")}),(0,g.jsx)("polygon",{className:"hotspot",points:"1180,934 1359,1031 1413,1116 1328,1177 1221,1153 1223,1082 1154,1055 1110,1128 969,1091 855,1064 875,1001 789,953 832,885 881,905 949,953 990,936 1014,961 1131,902 1160,958",onClick:()=>l("workshops"),onMouseEnter:()=>u("Workshops"),onMouseLeave:()=>u("")}),(0,g.jsx)("polygon",{className:"hotspot",points:"1959,510 1894,571 1894,666 2054,857 2193,913 2228,827 2202,644",onClick:()=>l("stables"),onMouseEnter:()=>u("Stables"),onMouseLeave:()=>u("")}),(0,g.jsx)("polygon",{className:"hotspot ".concat(f?"hotspot-gate-highlight":""),points:"1799,980 1730,1021 1737,1145 1798,1167 1817,1351 1873,1383 1951,1354 1958,1295 1997,1274 2055,1295 2124,1257 2121,979 2073,892 2048,921 1980,890 1922,931 1953,955 1889,987 1862,980 1845,1009",onClick:()=>s("gate"),onMouseEnter:()=>u("The Gate"),onMouseLeave:()=>u("")})]})]})}),"keep"===o&&(0,g.jsx)(J,{onClose:()=>l(null),gameState:n,setGameState:r}),"temple"===o&&(0,g.jsx)(ne,{onClose:()=>l(null),gameState:n,setGameState:r}),"barracks"===o&&(0,g.jsx)(re,{onClose:()=>l(null),gameState:n,setGameState:r}),"stables"===o&&(0,g.jsx)(se,{onClose:()=>l(null),gameState:n,setGameState:r}),"workshops"===o&&(0,g.jsx)(le,{onClose:()=>l(null),gameState:n,setGameState:r}),"hall"===o&&(0,g.jsx)(Z,{title:"The Great Hall",onClose:()=>l(null),children:(0,g.jsx)("div",{className:"w-full flex justify-center pb-4",children:(0,g.jsx)(O,{gameState:n,setGameState:r,onBack:()=>l(null)})})})]})},de=u("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),fe=u("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]),he=u("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),pe=t=>{let{characters:n,selectedId:r,onSelect:a,activeId:i,targetingState:s}=t;const[o,l]=(0,e.useState)(null),c=(0,e.useRef)(null),u=(0,e.useRef)(null),d="".concat(10*n.length,"rem");return(0,g.jsx)("div",{className:"flex items-center justify-center w-full px-4 overflow-x-auto no-scrollbar min-h-[36rem]",onMouseMove:e=>{if(!u.current||0===n.length)return;const t=u.current.getBoundingClientRect();if(e.clientX<t.left||e.clientX>t.right)return void l(null);const r=e.clientX-t.left,a=t.width/n.length,i=Math.floor(r/a),s=Math.max(0,Math.min(n.length-1,i));l(n[s].id)},onMouseLeave:()=>{l(null)},ref:c,children:(0,g.jsx)("div",{className:"flex flex-row items-center relative isolate transition-all duration-300 py-10",style:{minWidth:d},ref:u,children:n.map((e,t)=>{const l=Array.isArray(r)?r.includes(e.id):r===e.id,c=o===e.id,u=i===e.id,d=(null===s||void 0===s?void 0:s.active)&&s.candidates.find(t=>t.id===e.id);let f=10*(n.length-t);c&&(f=1e3),l&&!o&&(f+=100);let h="scale-95 opacity-90",p=0!==t?"-ml-24":"";return o?(p=0!==t?"-ml-20":"",h=c?"scale-110 opacity-100 z-50 shadow-2xl":"scale-90 opacity-60 blur-[1px]"):(l||u)&&(h="scale-105 opacity-100"),(0,g.jsx)("div",{className:"\n                                relative transition-all duration-300 ease-out origin-bottom\n                                ".concat(p," \n                                ").concat(h,"\n                            "),style:{zIndex:f},children:(0,g.jsx)(T,{char:e,isSelected:l,isActive:u,isTargetable:d,onClick:()=>(e=>{if(null!==s&&void 0!==s&&s.active)return void a(e);(Array.isArray(r)?r.includes(e.id):r===e.id)?Array.isArray(r)?a(e):a(null):a(e)})(e),compact:!1})},e.id)})})})};var me=Symbol.for("immer-nothing"),ge=Symbol.for("immer-draftable"),ve=Symbol.for("immer-state");function be(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var ye=Object,xe=ye.getPrototypeOf,_e="constructor",we="prototype",ke="configurable",Se="enumerable",Ee="writable",Ne="value",je=e=>!!e&&!!e[ve];function Ce(e){var t;return!!e&&(ze(e)||Re(e)||!!e[ge]||!(null===(t=e[_e])||void 0===t||!t[ge])||Le(e)||Fe(e))}var Te=ye[we][_e].toString(),Ae=new WeakMap;function ze(e){if(!e||!Be(e))return!1;const t=xe(e);if(null===t||t===ye[we])return!0;const n=ye.hasOwnProperty.call(t,_e)&&t[_e];if(n===Object)return!0;if(!Ue(n))return!1;let r=Ae.get(n);return void 0===r&&(r=Function.toString.call(n),Ae.set(n,r)),r===Te}function Me(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Oe(e)){(n?Reflect.ownKeys(e):ye.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Oe(e){const t=e[ve];return t?t.type_:Re(e)?1:Le(e)?2:Fe(e)?3:0}var Ie=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oe(e))?e.has(t):ye[we].hasOwnProperty.call(e,t)},De=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oe(e))?e.get(t):e[t]},Pe=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Oe(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var Re=Array.isArray,Le=e=>e instanceof Map,Fe=e=>e instanceof Set,Be=e=>"object"===typeof e,Ue=e=>"function"===typeof e,He=e=>"boolean"===typeof e;var We=e=>e.copy_||e.base_,Ve=e=>e.modified_?e.copy_:e.base_;function Ge(e,t){if(Le(e))return new Map(e);if(Fe(e))return new Set(e);if(Re(e))return Array[we].slice.call(e);const n=ze(e);if(!0===t||"class_only"===t&&!n){const t=ye.getOwnPropertyDescriptors(e);delete t[ve];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i[Ee]&&(i[Ee]=!0,i[ke]=!0),(i.get||i.set)&&(t[a]={[ke]:!0,[Ee]:!0,[Se]:i[Se],[Ne]:e[a]})}return ye.create(xe(e),t)}{const t=xe(e);if(null!==t&&n)return o({},e);const r=ye.create(t);return ye.assign(r,e)}}function qe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ke(e)||je(e)||!Ce(e)||(Oe(e)>1&&ye.defineProperties(e,{set:Ze,add:Ze,clear:Ze,delete:Ze}),ye.freeze(e),t&&Me(e,(e,t)=>{qe(t,!0)},!1)),e}var Ze={[Ne]:function(){be(2)}};function Ke(e){return null===e||!Be(e)||ye.isFrozen(e)}var Ye="MapSet",$e="Patches",Qe="ArrayMethods",Xe={};function Je(e){const t=Xe[e];return t||be(0),t}var et,tt=e=>!!Xe[e];var nt=()=>et;function rt(e,t){t&&(e.patchPlugin_=Je($e),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function at(e){it(e),e.drafts_.forEach(ot),e.drafts_=null}function it(e){e===et&&(et=e.parent_)}var st=e=>et={drafts_:[],parent_:et,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tt(Ye)?Je(Ye):void 0,arrayMethodsPlugin_:tt(Qe)?Je(Qe):void 0};function ot(e){const t=e[ve];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function lt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[ve].modified_&&(at(t),be(4)),Ce(e)&&(e=ct(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[ve].base_,e,t)}else e=ct(t,n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qe(t,n)}(t,e,!0),at(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==me?e:void 0}function ct(e,t){if(Ke(t))return t;const n=t[ve];if(!n){return gt(t,e.handledSet_,e)}if(!dt(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}pt(n,e)}return n.copy_}function ut(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var dt=(e,t)=>e.scope_===t,ft=[];function ht(e,t,n,r){var a;const i=We(e),s=e.type_;if(void 0!==r){if(De(i,r,s)===t)return void Pe(i,r,n,s)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;Me(i,(e,n)=>{if(je(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const o=null!==(a=e.draftLocations_.get(t))&&void 0!==a?a:ft;for(const l of o)Pe(i,l,n,s)}function pt(e,t){var n,r;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(null!==(n=null===(r=e.assigned_)||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}ut(e)}}function mt(e,t,n){const{scope_:r}=e;if(je(n)){const a=n[ve];dt(a,r)&&a.callbacks_.push(function(){wt(e);const r=Ve(a);ht(e,n,r,t)})}else Ce(n)&&e.callbacks_.push(function(){const a=We(e);var i;3===e.type_?a.has(n)&&gt(n,r.handledSet_,r):De(a,t,e.type_)===n&&r.drafts_.length>1&&!0===(null!==(i=e.assigned_.get(t))&&void 0!==i&&i)&&e.copy_&&gt(De(e.copy_,t,e.type_),r.handledSet_,r)})}function gt(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||je(e)||t.has(e)||!Ce(e)||Ke(e)||(t.add(e),Me(e,(r,a)=>{if(je(a)){const t=a[ve];if(dt(t,n)){const n=Ve(t);Pe(e,r,n,e.type_),ut(t)}}else Ce(a)&&gt(a,t,n)})),e}var vt={get(e,t){if(t===ve)return e;let n=e.scope_.arrayMethodsPlugin_;const r=1===e.type_&&"string"===typeof t;if(r&&null!==n&&void 0!==n&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=We(e);if(!Ie(a,t,e.type_))return function(e,t,n){var r;const a=xt(t,n);return a?Ne in a?a[Ne]:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,a,t);const i=a[t];if(e.finalized_||!Ce(i))return i;if(r&&e.operationMethod&&null!==n&&void 0!==n&&n.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return i;if(i===yt(e.base_,t)){wt(e);const n=1===e.type_?+t:t,r=kt(e.scope_,i,e,n);return e.copy_[n]=r}return i},has:(e,t)=>t in We(e),ownKeys:e=>Reflect.ownKeys(We(e)),set(e,t,n){const r=xt(We(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=yt(We(e),t),s=null===r||void 0===r?void 0:r[ve];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||Ie(e.base_,t,e.type_)))return!0;wt(e),_t(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),mt(e,t,n)),!0},deleteProperty:(e,t)=>(wt(e),void 0!==yt(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),_t(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=We(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[Ee]:!0,[ke]:1!==e.type_||"length"!==t,[Se]:r[Se],[Ne]:n[t]}:r},defineProperty(){be(11)},getPrototypeOf:e=>xe(e.base_),setPrototypeOf(){be(12)}},bt={};for(let n in vt){let e=vt[n];bt[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}function yt(e,t){const n=e[ve];return(n?We(n):e)[t]}function xt(e,t){if(!(t in e))return;let n=xe(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=xe(n)}}function _t(e){e.modified_||(e.modified_=!0,e.parent_&&_t(e.parent_))}function wt(e){e.copy_||(e.assigned_=new Map,e.copy_=Ge(e.base_,e.scope_.immer_.useStrictShallowCopy_))}bt.deleteProperty=function(e,t){return bt.set.call(this,e,t,void 0)},bt.set=function(e,t,n){return vt.set.call(this,e[0],t,n,e[0])};function kt(e,t,n,r){var a,i;const[s,o]=Le(t)?Je(Ye).proxyMap_(t,n):Fe(t)?Je(Ye).proxySet_(t,n):function(e,t){const n=Re(e),r={type_:n?1:0,scope_:t?t.scope_:nt(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=vt;n&&(a=[r],i=bt);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,[o,r]}(t,n);return(null!==(a=null===n||void 0===n?void 0:n.scope_)&&void 0!==a?a:nt()).drafts_.push(s),o.callbacks_=null!==(i=null===n||void 0===n?void 0:n.callbacks_)&&void 0!==i?i:[],o.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var a,i;const s=t;if(!s||!dt(s,r))return;null===(a=r.mapSetPlugin_)||void 0===a||a.fixSetContents(s);const o=Ve(s);ht(e,null!==(i=s.draft_)&&void 0!==i?i:s,o,n),pt(s,r)})}(n,o,r):o.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(o);const{patchPlugin_:n}=e;o.modified_&&n&&n.generatePatches_(o,[],e)}),s}function St(e){if(!Ce(e)||Ke(e))return e;const t=e[ve];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ge(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Ge(e,!0);return Me(n,(e,t)=>{Pe(n,e,St(t))},r),t&&(t.finalized_=!1),n}var Et=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(Ue(e)&&!Ue(t)){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...i))}}let r;if(Ue(t)||be(6),void 0===n||Ue(n)||be(7),Ce(e)){const a=st(this),i=kt(a,e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?at(a):it(a)}return rt(a,n),lt(r,a)}if(!e||!Be(e)){if(r=t(e),void 0===r&&(r=e),r===me&&(r=void 0),this.autoFreeze_&&qe(r,!0),n){const t=[],a=[];Je($e).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:a}),n(t,a)}return r}be(1)},this.produceWithPatches=(e,n)=>{if(Ue(e))return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},He(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),He(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),He(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ce(e)||be(8),je(e)&&(e=function(e){je(e)||be(10);return St(e)}(e));const t=st(this),n=kt(t,e,void 0);return n[ve].isManual_=!0,it(t),n}finishDraft(e,t){const n=e&&e[ve];n&&n.isManual_||be(9);const{scope_:r}=n;return rt(r,t),lt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Je($e).applyPatches_;return je(e)?r(e,t):this.produce(e,e=>r(e,t))}},Nt=(Et.produce,Et.createDraft.bind(Et)),jt=Et.finishDraft.bind(Et);const Ct=n.p+"static/media/hero_portrait.139aabc75d538f0e31ad.png";class Tt{constructor(e){this.id=e.id,this.name=e.name,this.role=e.role||"Unknown",this.hp=e.hp,this.maxHp=e.maxHp,this.speed=e.speed,this.tempSpeed=e.speed,this.defense=e.defense||0,this.score=e.score||0,this.evaluationTime=e.evaluationTime||null,this.isBoss=e.isBoss||!1,this.faction=null,this.skillIds=e.skills||e.skillIds||[],e.offensiveSkillId&&!this.skillIds.includes(e.offensiveSkillId)&&this.skillIds.push(e.offensiveSkillId),e.defensiveSkillId&&!this.skillIds.includes(e.defensiveSkillId)&&this.skillIds.push(e.defensiveSkillId),this.description=e.description||"",this.profile=e.profile||Ct,this.equipment=[],this.hasActed=!1}isAlive(){return this.hp>0}getSkills(){return this.skillIds.map(e=>C[e]).filter(Boolean)}getSkill(e){return this.getSkills().find(t=>(t.type===e||"BOTH"===t.type)&&"ACTION_PHASE"===t.trigger)}getPassiveSkills(e){return this.getSkills().filter(t=>t.trigger===e)}async act(e){if(!this.hasActed){const{bus:t}=await Promise.resolve().then(n.bind(n,671));await t.emitAsync("Character:Appearance",{character:this,context:e}),this.hasActed=!0}const{bus:t}=await Promise.resolve().then(n.bind(n,671));await t.emitAsync("Character:ActionStart",{characterId:this.id});const r=[],a=e.activeFaction&&this.faction&&e.activeFaction.id===this.faction.id?"OFFENSIVE":"DEFENSIVE",i=this.getSkills().filter(e=>(e.type===a||"BOTH"===e.type)&&"ACTION_PHASE"===e.trigger);for(const n of i){const t=await n.perform(this,o(o({},e),{},{mode:a}));t&&r.push(t)}return r}equip(e){e&&(this.equipment.push(e),e.onEquip&&e.onEquip(this))}unequip(e){const t=this.equipment.indexOf(e);t>-1&&(this.equipment.splice(t,1),e.onUnequip&&e.onUnequip(this))}}class At{static async processMainTurn(e,t,n,r){let a=[];const i=Nt(e);try{a=(await zt.resolveTurn(i,t,n,r)).logs}catch(s){throw console.error("Combat Logic Error:",s),s}return{factions:jt(i),logs:a}}static setupPassiveListeners(e){const{bus:t}=n(671),r=e.flatMap(e=>e.characters),a=new Set;r.forEach(e=>{e.getSkills().forEach(e=>{e.trigger&&"ACTION_PHASE"!==e.trigger&&a.add(e.trigger)})});const i=[];return a.forEach(n=>{const r=async t=>{await At.handlePassiveTrigger(n,t,e)};t.on(n,r),i.push({trigger:n,handler:r})}),()=>{i.forEach(e=>{let{trigger:n,handler:r}=e;t.off(n,r)})}}static async handlePassiveTrigger(e,t,n){const r=n.flatMap(e=>e.characters);r.sort((e,t)=>t.tempSpeed-e.tempSpeed);for(const i of r){if(i.hp<=0)continue;const r=i.getPassiveSkills(e);for(const e of r){var a;const r=At.createContext(n,null===(a=i.faction)||void 0===a?void 0:a.id,i,t.dice||0,o(o({},t),{},{isPassive:!0}));await e.perform(i,r)}}}static createContext(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=e.find(e=>e.id===t);let s=[];return e.forEach(e=>{s.push(...e.livingMembers)}),o({dice:r,activeFaction:i,user:n,allies:s.filter(e=>e.faction.id===n.faction.id),enemies:s.filter(e=>e.faction.id!==n.faction.id),allFactions:e,memory:a.memory||{},history:a.history||[]},a)}}class zt{static async resolveTurn(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{bus:i}=await Promise.resolve().then(n.bind(n,671));await i.emitAsync("Turn:Start",{activeFactionId:t,diceValue:r}),await i.emitAsync("Dice:Roll",{value:r}),await i.emitAsync("Dice:Result",{value:r});let s=[];e.find(e=>e.id===t);a.memory&&Object.keys(a.memory).forEach(e=>{e.endsWith("_turn_count")&&delete a.memory[e]});let l=[];e.forEach(e=>{l.push(...e.livingMembers)}),l.sort((e,t)=>t.tempSpeed-e.tempSpeed);for(const n of l){if(n.hp<=0)continue;const i=l[0].id===n.id,c=At.createContext(e,t,n,r,o({isFirst:i,turnRank:l.indexOf(n)+1,trigger:"ACTION_PHASE"},a)),u=await n.act(c);u&&u.length>0&&u.forEach(e=>{e.log&&s.push(e.log)})}return await i.emitAsync("Turn:End",{activeFactionId:t}),{logs:s}}}const Mt=e=>{let{factions:t,activeCharacterId:n}=e;const r=t.flatMap(e=>e.livingMembers);return r.sort((e,t)=>t.tempSpeed-e.tempSpeed),(0,g.jsxs)("div",{className:"flex items-center gap-2 bg-stone-900/80 p-2 rounded-lg border border-stone-700 overflow-x-auto max-w-full no-scrollbar",children:[(0,g.jsx)("span",{className:"text-[10px] font-bold text-stone-500 uppercase tracking-widest mr-2",children:"Turn Order"}),r.map((e,t)=>{var a;const i=e.id===n,s="PLAYER"===(null===(a=e.faction)||void 0===a?void 0:a.type);return(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsxs)("div",{className:"\n                                relative w-8 h-8 rounded-full border-2 overflow-hidden transition-all duration-300\n                                ".concat(i?"border-amber-400 scale-125 shadow-[0_0_10px_rgba(251,191,36,0.5)] z-10":"border-stone-600 opacity-80","\n                                ").concat(s?"ring-1 ring-stone-500/30":""," \n                            "),title:"".concat(e.name," (Speed: ").concat(e.tempSpeed,")"),children:[(0,g.jsx)("img",{src:e.profile,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}),(0,g.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-stone-800 text-[10px] font-bold text-stone-400 -z-10",children:e.name.substring(0,1)})]}),t<r.length-1&&(0,g.jsx)(U,{size:12,className:"text-stone-700 mx-1"})]},e.id)})]})};class Ot{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.id=e,this.name=t,this.enemyFactionData=n,this.rewards=r,this.rules=a}}const It={merlin:{id:"merlin",name:"Merlin",role:"Wizard",hp:6,maxHp:6,speed:8,skills:["merlin_offensive","merlin_passive_cancel"],description:"A powerful wizard who can shift through space.",profile:n.p+"static/media/merlin_portrait.89386b948013596fcf11.png",score:3.66,evaluationTime:"2026-02-20T11:24:11+08:00"},arthur:{id:"arthur",name:"Arthur",role:"Knight",hp:7,maxHp:7,speed:3,skills:["arthur_offensive","arthur_defensive"],description:"The righteous king with a holy aura.",profile:n.p+"static/media/arthur_portrait.2d3bcb57f027a92ea987.png",score:3.05,evaluationTime:"2026-02-20T11:24:11+08:00"},archer:{id:"archer",name:"Archer Chapanion",role:"Ranger",hp:5,maxHp:5,speed:8,skills:["archer_offensive","archer_defensive"],description:"A master marksman.",profile:n.p+"static/media/archer_portrait.314c1979254b26f0d337.png",score:3.17,evaluationTime:"2026-02-20T11:24:11+08:00"},architect:{id:"architect",name:"Royal Architect",role:"Support",hp:8,maxHp:8,speed:1,skills:["architect_offensive","architect_defensive"],description:"Builds and destroys fortifications.",profile:n.p+"static/media/architect_portrait.2d4dab176534fcc5f2b7.png",score:3.11,evaluationTime:"2026-02-20T11:24:11+08:00"},valerius:{id:"valerius",name:"Sir Valerius",role:"Knight",hp:8,maxHp:8,speed:1,skills:["std_heavy_strike","std_shield_bash"],description:"A deeply armored shock trooper.",profile:n.p+"static/media/valerius_portrait.75bee87f989e19d59956.png",score:3.11,evaluationTime:"2026-02-20T11:24:11+08:00"},lyra:{id:"lyra",name:"Lyra",role:"Rogue",hp:5,maxHp:5,speed:7,skills:["std_quick_jab","std_wide_sweep"],description:"A swift blade in the shadows.",profile:Ct,score:2.94,evaluationTime:"2026-02-20T11:24:11+08:00"},sylas:{id:"sylas",name:"Sylas",role:"Cleric",hp:5,maxHp:5,speed:2,skills:["std_group_heal","std_inner_focus"],description:"Heals wounds and braces for impact.",profile:Ct,score:1.83,evaluationTime:"2026-02-20T11:24:11+08:00"},grom:{id:"grom",name:"Grom",role:"Berserker",hp:10,maxHp:10,speed:5,skills:["std_heavy_strike","std_berserk"],description:"A warrior who trades defense for power.",profile:Ct,score:5,evaluationTime:"2026-02-20T11:24:11+08:00"},elara:{id:"elara",name:"Elara Moonwhisper",role:"Assassin",hp:5,maxHp:5,speed:9,skills:["elara_offensive","elara_passive"],description:"A nightblade who dances with shadows.",profile:Ct,score:2.54,evaluationTime:"2026-02-20T11:24:11+08:00"},thorn:{id:"thorn",name:"Thorn Bristlebeard",role:"Tank",hp:8,maxHp:8,speed:1,skills:["thorn_defensive","thorn_passive"],description:"A dwarven defender with spiked armor.",profile:Ct,score:3.11,evaluationTime:"2026-02-20T11:24:11+08:00"},siegfried:{id:"siegfried",name:"Siegfried",role:"Dragon Slayer",hp:6,maxHp:6,speed:4,skills:["siegfried_offensive","siegfried_passive"],description:"The tragic hero who bathed in dragon blood. Wields the cursed Balmung.",profile:Ct,score:6.66,evaluationTime:"2026-02-20T11:24:11+08:00"},rebel:{id:"rebel",name:"The Rebel Army",hp:16,maxHp:16,speed:8,skills:["rebel_offensive","rebel_defensive"],profile:Ct},dragon:{id:"dragon",name:"The Red Dragon",hp:28,maxHp:28,speed:5,skills:["dragon_offensive","dragon_defensive"],profile:Ct,isBoss:!0},goblin_skirmisher:{id:"goblin_skirmisher",name:"Goblin Skirmisher",hp:6,maxHp:6,speed:7,skills:["std_quick_jab"]},orc_warrior:{id:"orc_warrior",name:"Orc Warrior",hp:12,maxHp:12,speed:3,skills:["std_heavy_strike","std_shield_bash"]},dark_cultist:{id:"dark_cultist",name:"Dark Cultist",hp:8,maxHp:8,speed:4,skills:["std_inner_focus","std_quick_jab"]},bandit_leader:{id:"bandit_leader",name:"Bandit Leader",hp:14,maxHp:14,speed:6,skills:["std_berserk","std_wide_sweep"]},rebel_grunt:{id:"rebel_grunt",name:"Rebel Grunt",hp:10,maxHp:10,speed:4,skills:["rebel_offensive","rebel_defensive"]},shadow_stalker:{id:"shadow_stalker",name:"Shadow Stalker",hp:8,maxHp:8,speed:8,skills:["shadow_offensive","std_counter"]},iron_golem:{id:"iron_golem",name:"Iron Golem",hp:20,maxHp:20,speed:1,skills:["golem_offensive","golem_passive"]},frost_dragon:{id:"frost_dragon",name:"The Glacial Terror",hp:35,maxHp:35,speed:4,skills:["frost_offensive","frost_defensive"],description:"An ancient dragon whose breath freezes time itself.",profile:Ct,isBoss:!0,score:7.85,evaluationTime:"2026-02-20T17:21:44+08:00"},void_beast:{id:"void_beast",name:"Abyssal Devourer",hp:25,maxHp:25,speed:9,skills:["void_offensive","void_passive"],description:"A nightmare entity that feeds on sheer terror and magic.",profile:Ct,isBoss:!0,score:8.12,evaluationTime:"2026-02-20T17:21:44+08:00"},demon_lord:{id:"demon_lord",name:"Archfiend Azazel",hp:40,maxHp:40,speed:6,skills:["demon_offensive","demon_passive"],description:"The supreme ruler of the infernal legions.",profile:Ct,isBoss:!0,score:9.99,evaluationTime:"2026-02-20T17:21:44+08:00"}},Dt=e=>{const t=It[e];return t?new Tt(t):(console.warn("Character data for ".concat(e," not found.")),null)},Pt={PLAYER:{id:"player_default",name:"Expedition Team",roster:["merlin","arthur","archer","architect","elara","thorn","siegfried"],initialTeam:["merlin","arthur","archer","architect"]},ENEMIES:{REBELS_OUTSKIRTS:{id:"rebels_outskirts",name:"Rebel Scum",members:[o(o({},It.rebel_grunt),{},{id:"rebel_1"}),o(o({},It.rebel_grunt),{},{id:"rebel_2"})]},DRAGON_LAIR:{id:"dragon_boss",name:"The Dragon's Guard",members:[o(o({},It.dragon),{},{id:"dragon_boss"})]},NATURES_WRATH:{id:"natures_wrath",name:"Nature's Wrath",members:[o(o({},It.orc_warrior),{},{id:"orc_1"}),o(o({},It.goblin_skirmisher),{},{id:"goblin_1"}),o(o({},It.goblin_skirmisher),{},{id:"goblin_2"})]},DARK_COVENS:{id:"dark_covens",name:"The Dark Covens",members:[o(o({},It.dark_cultist),{},{id:"cultist_1"}),o(o({},It.shadow_stalker),{},{id:"stalker_1"}),o(o({},It.dark_cultist),{},{id:"cultist_2"})]},ANCIENT_CONSTRUCT:{id:"ancient_construct",name:"Ancient Guardians",members:[o(o({},It.iron_golem),{},{id:"golem_1"}),o(o({},It.dark_cultist),{},{id:"cultist_mechanic"})]},BANDIT_AMBUSH:{id:"bandit_ambush",name:"Bandit Ambush",members:[o(o({},It.bandit_leader),{},{id:"bandit_boss"}),o(o({},It.lyra),{},{id:"rogue_merc_1",name:"Rogue Mercedes"})]},IRON_LEGION:{id:"iron_legion",name:"The Iron Legion",members:[o(o({},It.valerius),{},{id:"fallen_knight_1",name:"Fallen Knight"}),o(o({},It.valerius),{},{id:"fallen_knight_2",name:"Fallen Knight"})]},SHADOW_REALM:{id:"shadow_realm",name:"Shadow Realm",members:[o(o({},It.shadow_stalker),{},{id:"shade_1"}),o(o({},It.shadow_stalker),{},{id:"shade_2"}),o(o({},It.shadow_stalker),{},{id:"shade_3"})]}}},Rt={1:new Ot(1,"The Outskirts",{factionName:Pt.ENEMIES.REBELS_OUTSKIRTS.name,members:Pt.ENEMIES.REBELS_OUTSKIRTS.members}),2:new Ot(2,"Dark Woods",{factionName:Pt.ENEMIES.NATURES_WRATH.name,members:Pt.ENEMIES.NATURES_WRATH.members}),3:new Ot(3,"Bandit Camp",{factionName:Pt.ENEMIES.BANDIT_AMBUSH.name,members:Pt.ENEMIES.BANDIT_AMBUSH.members}),4:new Ot(4,"Cursed Ruins",{factionName:Pt.ENEMIES.DARK_COVENS.name,members:Pt.ENEMIES.DARK_COVENS.members}),5:new Ot(5,"Iron Fortress",{factionName:Pt.ENEMIES.IRON_LEGION.name,members:Pt.ENEMIES.IRON_LEGION.members}),6:new Ot(6,"The Ancient Vault",{factionName:Pt.ENEMIES.ANCIENT_CONSTRUCT.name,members:Pt.ENEMIES.ANCIENT_CONSTRUCT.members}),7:new Ot(7,"Shadow Dimension",{factionName:Pt.ENEMIES.SHADOW_REALM.name,members:Pt.ENEMIES.SHADOW_REALM.members}),8:new Ot(8,"Dragon's Lair",{factionName:Pt.ENEMIES.DRAGON_LAIR.name,members:Pt.ENEMIES.DRAGON_LAIR.members})};class Lt{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"stone-500";this.id=e,this.type=t,this.name=n,this.characters=r,this.color=a,this.characters.forEach(e=>e.faction=this)}addCharacter(e){e.faction=this,this.characters.push(e)}get livingMembers(){return this.characters.filter(e=>e.hp>0)}getCharacter(e){return this.characters.find(t=>t.id===e)}}class Ft{constructor(e){this.id=e.id,this.name=e.name,this.description=e.description,this.type=e.type||"WEAPON",this.rarity=e.rarity||"COMMON",this.equippedBy=null}onEquip(e){this.equippedBy=e}onUnequip(e){this.equippedBy=null}isOwner(e){return this.equippedBy&&this.equippedBy.id===e.id}}class Bt extends Ft{constructor(){super({id:"sharp_dagger",name:"Sharp Dagger",description:"Deals +1 damage when targeting a single enemy.",type:"WEAPON"}),this.handleDamage=this.handleDamage.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:CausingDamage",this.handleDamage),console.log("".concat(this.name," equipped to ").concat(e.name))}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:CausingDamage",this.handleDamage),console.log("".concat(this.name," unequipped from ").concat(e.name))}handleDamage(e){e.context&&e.context.user&&e.context.user.id===this.equippedBy.id&&1===e.targets.length&&(e.amount+=1)}}class Ut extends Ft{constructor(){super({id:"guardian_shield",name:"Guardian Shield",description:"Reduces all incoming damage by 1.",type:"ARMOR"}),this.handleDefense=this.handleDefense.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:CausingDamage",this.handleDefense)}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:CausingDamage",this.handleDefense)}handleDefense(e){if(!e.targets||!this.equippedBy)return;e.targets.some(e=>e.id===this.equippedBy.id)&&(e.amount=Math.max(0,e.amount-1))}}class Ht extends Ft{constructor(){super({id:"vampire_fang",name:"Vampire Fang",description:"Heal 1 HP when dealing damage.",type:"ACCESSORY"}),this.handleAttack=this.handleAttack.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:CausingDamage",this.handleAttack)}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:CausingDamage",this.handleAttack)}handleAttack(e){e.context&&e.context.user&&e.context.user.id===this.equippedBy.id&&(e.context.isVampiric||j.Heal([this.equippedBy],1))}}const Wt={sharp_dagger:Bt,guardian_shield:Ut,vampire_fang:Ht,counter_ring:class extends Ft{constructor(){super({id:"counter_ring",name:"Counter Ring",description:"50% chance to deal 1 DMG to attacker when hit.",type:"ACCESSORY"}),this.handleHit=this.handleHit.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:TakeDamage",this.handleHit)}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:TakeDamage",this.handleHit)}handleHit(e){if(e.target.id===this.equippedBy.id&&e.source&&e.source.id!==this.equippedBy.id&&Math.random()>.5){const t={user:this.equippedBy,isCounter:!0};j.ApplyDamage([e.source],1,t),console.log("".concat(this.equippedBy.name,"'s Counter Ring activates!"))}}},sniper_scope:class extends Ft{constructor(){super({id:"sniper_scope",name:"Sniper Scope",description:"Deal +2 DMG when targeting a single fully healthy enemy.",type:"ACCESSORY"}),this.handleAim=this.handleAim.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:CausingDamage",this.handleAim)}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:CausingDamage",this.handleAim)}handleAim(e){if(e.context&&e.context.user&&e.context.user.id===this.equippedBy.id&&1===e.targets.length){const t=e.targets[0];t.hp>=t.maxHp&&(e.amount+=2)}}},gamblers_coin:class extends Ft{constructor(){super({id:"gamblers_coin",name:"Gambler's Coin",description:"If incoming damage occurs when Dice was 1, negate it (0 DMG).",type:"ACCESSORY"}),this.handleLuck=this.handleLuck.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:CausingDamage",this.handleLuck)}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:CausingDamage",this.handleLuck)}handleLuck(e){if(!e.targets||!this.equippedBy)return;if(e.targets.some(e=>e.id===this.equippedBy.id)){1===(e.context?e.context.dice:null)&&(e.amount=0,console.log("Gambler's Coin negated damage!"))}}},flame_sword:class extends Ft{constructor(){super({id:"flame_sword",name:"Flame Sword",description:"+1 DMG. If user rolled a 6, deal +2 DMG instead.",type:"WEAPON"}),this.handleStrike=this.handleStrike.bind(this)}onEquip(e){super.onEquip(e),N.bus.on("Skill:CausingDamage",this.handleStrike)}onUnequip(e){super.onUnequip(e),N.bus.off("Skill:CausingDamage",this.handleStrike)}handleStrike(e){if(!e.context||!e.context.user)return;if(e.context.user.id!==this.equippedBy.id)return;const t=e.context.dice;e.amount+=6===t?2:1}}};class Vt{static save(e){if(!e)return;const t={level:e.level,gold:e.gold,lastEventLevel:e.lastEventLevel,activeTeam:e.activeTeam,castleFacilities:e.castleFacilities,roster:e.roster.map(e=>({id:e.id,hp:e.hp,maxHp:e.maxHp,hasActed:e.hasActed,equipmentIds:e.equipment?e.equipment.map(e=>e.id):[]})),inventory:e.inventory?e.inventory.map(e=>e.id):[]};localStorage.setItem(this.SAVE_KEY,JSON.stringify(t))}static load(){const e=localStorage.getItem(this.SAVE_KEY);if(!e)return null;try{const t=JSON.parse(e),n=t.roster.map(e=>{const t=Dt(e.id);return t&&(t.hp=void 0!==e.hp?e.hp:t.hp,t.maxHp=void 0!==e.maxHp?e.maxHp:t.maxHp,t.hasActed=e.hasActed||!1,e.equipmentIds&&e.equipmentIds.forEach(e=>{const n=Wt[e];n&&t.equip(new n)})),t}).filter(Boolean),r=t.inventory?t.inventory.map(e=>{const t=Wt[e];return t?new t:null}).filter(Boolean):[];return{level:t.level,gold:t.gold,lastEventLevel:t.lastEventLevel||0,activeTeam:t.activeTeam||[],castleFacilities:t.castleFacilities||{mainHall:{level:1},expeditionOffice:{level:1}},roster:n,inventory:r}}catch(t){return console.error("Failed to load save data",t),null}}static clearSave(){localStorage.removeItem(this.SAVE_KEY)}static hasSave(){return!!localStorage.getItem(this.SAVE_KEY)}}Vt.SAVE_KEY="aethelgard_save";const Gt={1:n.p+"static/media/dice1.cd9b4e8af38626c6a1a3.png",2:n.p+"static/media/dice2.fe5ef17456beacde9b23.png",3:n.p+"static/media/dice3.185b1503eafc9dbcc46d.png",4:n.p+"static/media/dice4.996cc19cc5aaeab6d4e2.png",5:n.p+"static/media/dice5.70767fb61703175c797f.png",6:n.p+"static/media/dice6.34f3d89ae58e6c60aa3f.png"},qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.floor(Math.random()*e)+1},Zt=t=>{let{gameState:r,onWin:a,onLose:i}=t;const[s,l]=(0,e.useState)("INIT"),[c,u]=(0,e.useState)(1),[f,h]=(0,e.useState)("NORMAL"),[p,m]=(0,e.useState)(["Battle Started!"]),[b,x]=(0,e.useState)(0),[_,w]=(0,e.useState)([]),[k,E]=(0,e.useState)({}),[N,j]=(0,e.useState)([]),[C,T]=(0,e.useState)(null),[A,z]=(0,e.useState)(null),[M,O]=(0,e.useState)(null),I=(0,e.useRef)(null);(0,e.useRef)(null);(0,e.useEffect)(()=>{var e,t;const n=((r.activeTeam?r.activeTeam.length:3)+1)*r.level*2,a=(null===(e=r.economy)||void 0===e?void 0:e.current_supplies)<n,i=r.activeTeam.map(e=>{const t=r.roster.find(t=>t.id===e),n=new Tt(o(o({},t),{},{tempSpeed:t.speed,defense:0}));return a&&(n.maxHp=Math.max(1,Math.floor(.75*n.maxHp)),n.hp=Math.min(n.hp,n.maxHp),n.speed=Math.max(1,n.speed-1),n.tempSpeed=n.speed),t.equipment&&t.equipment.length>0&&t.equipment.forEach(e=>{const t=Wt[e.id];t&&n.equip(new t)}),n}),s=new Lt("player_faction","PLAYER","Expedition Team",i,"amber-600");let c=(null===(t=Rt[r.level])||void 0===t?void 0:t.enemyFactionData)||Rt[1].enemyFactionData;r.economy&&r.economy.happiness<40&&(c={factionName:"Starving Uprising",members:Pt.ENEMIES.REBELS_OUTSKIRTS.members});const u=c.members.map(e=>{const t=new Tt(o(o({},e),{},{tempSpeed:e.speed,defense:0}));return e.equipment&&e.equipment.length>0&&e.equipment.forEach(e=>{const n=Wt[e.id];n&&t.equip(new n)}),t}),d=new Lt("enemy_faction","COMPUTER",c.factionName,u,"red-600");j([s,d]),l("PLAYER_WAIT_ROLL"),D("Encountered: ".concat(d.name)),a&&D("WARNING: Logistics failed! Party is Starving!")},[]),(0,e.useEffect)(()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},[p]),(0,e.useEffect)(()=>{const{bus:e}=n(671);return()=>{console.log("BattleScreen unmounting, clearing EventBus"),e.clear()}},[]);const D=e=>m(t=>[...t,"[Rd ".concat(c,"] ").concat(e," ")]);(0,e.useEffect)(()=>{if(N.length>0){const e=At.setupPassiveListeners(N),{bus:t}=n(671),r=e=>{let{characterId:t}=e;z(t),j(e=>{const n=[...e];for(const r of n){const e=r.characters.find(e=>e.id===t);if(e){e.animationClass="animate-attack-lunge",setTimeout(()=>{e.animationClass="",j([...n])},300);break}}return n})},a=()=>z(null);return t.on("Character:ActionStart",r),t.on("Turn:End",a),t.on("Round:End",a),()=>{e(),t.off("Character:ActionStart",r),t.off("Turn:End",a),t.off("Round:End",a)}}},[N]);const P=e=>new Promise(t=>{O({active:!0,candidates:e,resolve:e=>{O(null),t(e)}}),D("Choose your target!")}),R=e=>{const t=e[0].livingMembers.length>0;return e[1].livingMembers.length>0?(!t||c>30)&&(setTimeout(i,"SKIP"===f?100:1500),!0):(setTimeout(a,"SKIP"===f?100:1500),!0)};if(N.length<2)return(0,g.jsx)("div",{className:"p-10 text-white",children:"Loading Factions..."});const[L,F]=N;return(0,g.jsxs)("div",{className:"flex flex-col h-screen bg-stone-800 p-2 md:p-6 animate-fade-in",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4 text-amber-100 border-b border-stone-800 pb-2 gap-4",children:[(0,g.jsxs)("div",{className:"flex gap-4 items-center flex-shrink-0",children:[(0,g.jsxs)("h2",{className:"text-xl font-serif text-amber-500",children:["Round ",c]}),(0,g.jsx)("div",{className:"text-sm text-stone-400 font-mono",children:s})]}),(0,g.jsxs)("div",{className:"flex gap-1 bg-black/40 p-1 rounded border border-stone-800",children:[(0,g.jsx)("button",{onClick:()=>h("NORMAL"),className:"p-1.5 rounded hover:bg-stone-700 transition-colors ".concat("NORMAL"===f?"bg-amber-900/50 text-amber-200":"text-stone-500"),title:"Normal Speed",children:(0,g.jsx)(de,{size:16,fill:"currentColor"})}),(0,g.jsx)("button",{onClick:()=>h("FULL"),className:"p-1.5 rounded hover:bg-stone-700 transition-colors ".concat("FULL"===f?"bg-amber-900/50 text-amber-200":"text-stone-500"),title:"Full Animation",children:(0,g.jsx)(fe,{size:16,fill:"currentColor"})}),(0,g.jsx)("button",{onClick:()=>h("SKIP"),className:"p-1.5 rounded hover:bg-stone-700 transition-colors ".concat("SKIP"===f?"bg-amber-900/50 text-amber-200":"text-stone-500"),title:"Skip Animations",children:(0,g.jsx)(he,{size:16,fill:"currentColor"})})]})]}),(0,g.jsx)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 overflow-hidden px-4",children:N.map((e,t)=>{const n="PLAYER"===e.type;return(0,g.jsxs)("div",{className:"\n                                flex flex-col h-full rounded-lg border-2 p-3 overflow-hidden transition-colors duration-300 relative\n                                ".concat(n?"bg-stone-900/60":"bg-red-950/20","\n                                border-").concat(e.color,"\n                            "),children:[(0,g.jsxs)("div",{className:"mb-3 font-serif flex justify-between items-center ".concat(n?"text-stone-300":"text-red-900/70"," absolute top-2 left-4 right-4 z-0"),children:[(0,g.jsx)("h3",{className:"font-bold text-lg opacity-50",children:e.name}),n?(0,g.jsx)(S,{size:20,className:"opacity-50"}):(0,g.jsx)(d,{size:20,className:"opacity-50"})]}),(0,g.jsx)("div",{className:"flex-1 flex items-center justify-center mt-6",children:(0,g.jsx)(pe,{characters:e.characters,activeId:A,selectedId:null===C||void 0===C?void 0:C.id,onSelect:e=>(e=>{e?null!==M&&void 0!==M&&M.active?M.candidates.find(t=>t.id===e.id)?M.resolve(e):D("Invalid target."):T(e):null!==M&&void 0!==M&&M.active||T(null)})(e),targetingState:M})})]},e.id)})}),(0,g.jsx)("div",{className:"mb-4 overflow-hidden border-y border-stone-800 py-2 bg-black/20",children:(0,g.jsx)(Mt,{factions:N,activeCharacterId:A})}),(0,g.jsxs)("div",{className:"h-48 flex gap-4 items-stretch",children:[(0,g.jsx)("div",{className:"flex-1 flex flex-col justify-center gap-3",children:(0,g.jsx)("div",{className:"text-center text-stone-600 italic border border-stone-800 p-4 rounded bg-black/40",children:null!==M&&void 0!==M&&M.active?(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,g.jsx)("span",{className:"text-amber-400 font-bold animate-pulse",children:"Choose Target..."}),(0,g.jsx)(v,{onClick:()=>M.resolve(null),className:"bg-stone-700 hover:bg-stone-600 border-stone-600 text-xs px-2 py-1 h-auto text-stone-200",children:"Skip Skill"})]}):"ENEMY_WAIT"===s?"Enemy is thinking...":"RESOLVING"===s?"Resolving Combat...":"Awaiting Command"})}),(0,g.jsx)("div",{className:"flex-none w-64 flex flex-col items-center justify-center relative",children:"PLAYER_WAIT_ROLL"===s||b>0?(0,g.jsx)(g.Fragment,{children:"PLAYER_WAIT_ROLL"===s?(0,g.jsx)(v,{primary:!0,icon:y,onClick:()=>{const e=qt();x(e),w(t=>[...t,e]),(async(e,t)=>{const{bus:r}=await Promise.resolve().then(n.bind(n,671));await r.emitAsync("Round:Start",{round:c}),l("RESOLVING"),T(null);let a=N;const i=a[0].id;D("".concat(a[0].name," Turn (Dice: ").concat(t,")")),"SKIP"!==f&&await new Promise(e=>setTimeout(e,600));const s=await At.processMainTurn(a,i,t,{history:_,memory:k,requestPlayerTarget:P,gameSpeed:f});if(s.logs.forEach(e=>D(e)),a=s.factions,j(a),R(a))return;l("ENEMY_WAIT"),"SKIP"!==f&&await new Promise(e=>setTimeout(e,1e3));const o=qt();x(o);const d=[..._,o];w(d),D("".concat(a[1].name," Turn (Dice: ").concat(o,")"));const h=a[1].id,p=await At.processMainTurn(a,h,o,{history:d,memory:k,requestPlayerTarget:P,gameSpeed:f});p.logs.forEach(e=>D(e)),a=p.factions,j(a),R(a)||(await r.emitAsync("Round:End",{round:c}),u(e=>e+1),l("PLAYER_WAIT_ROLL"),T(null),D("=== Round ".concat(c+1," === ")))})(0,e)},className:"h-20 w-48 text-xl shadow-xl shadow-amber-900/20 animate-bounce",children:"ROLL"}):(0,g.jsxs)("div",{className:"flex flex-col items-center animate-drop-bounce",children:[(0,g.jsxs)("div",{className:"px-3 py-1 ".concat("ENEMY_WAIT"===s?"bg-red-900 text-red-100 border-red-500":"bg-amber-900 text-amber-100 border-amber-500"," rounded-full text-xs mb-2 border font-bold tracking-wider shadow-lg"),children:["ENEMY_WAIT"===s?F.name.toUpperCase():L.name.toUpperCase()," TURN"]}),(0,g.jsx)("div",{className:"w-24 h-24 bg-stone-900 border-4 border-".concat("ENEMY_WAIT"===s?F.color||"red-600":L.color||"amber-600"," rounded-xl flex items-center justify-center shadow-[0_0_30px_rgba(245,158,11,0.4)] overflow-hidden bg-black"),children:(0,g.jsx)("img",{src:Gt[b]||Gt[1],alt:"Dice ".concat(b),className:"w-full h-full object-contain"})})]})}):(0,g.jsx)("div",{className:"text-stone-700 text-sm",children:"Waiting..."})}),(0,g.jsx)("div",{className:"flex-1 bg-black/40 border border-stone-800 rounded p-2 overflow-y-auto font-mono text-xs text-stone-400",ref:I,children:p.map((e,t)=>(0,g.jsx)("div",{className:"mb-1 border-b border-stone-800/50 pb-1 last:border-0",children:e},t))})]})]})},Kt=u("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),Yt=u("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$t=u("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Qt=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Xt=u("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Jt=u("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),en=u("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var tn=n(159),nn=n.n(tn),rn=n(450);const an={id:"",name:"",role:"",hp:1,maxHp:1,speed:1,skills:[],description:"",score:0,profileFilename:""},sn=t=>{let{onBack:n}=t;const[r,a]=(0,e.useState)("new"),[i,s]=(0,e.useState)(an),[l,c]=(0,e.useState)(an),[u,d]=(0,e.useState)(!1),[f,p]=(0,e.useState)(null),[m,b]=(0,e.useState)("");(0,e.useEffect)(()=>{let e=an;if("new"!==r){const t=It[r];t&&(e={id:t.id||"",name:t.name||"",role:t.role||"",hp:t.hp||1,maxHp:t.maxHp||1,speed:t.speed||1,skills:t.skills?[...t.skills]:[],description:t.description||"",score:t.score||0,profileFilename:""})}s(e),c(e),d(!1),p(null),b("")},[r]);const y=JSON.stringify(i)!==JSON.stringify(l),x=e=>{const{name:t,value:n,type:r}=e.target;let a=n;"number"===r&&(a=""===n?"":Number(n)),s(e=>o(o({},e),{},{[t]:a})),d(!1)},_={id:i.id||"preview",name:i.name||"Unknown Hero",role:i.role||"Unassigned",hp:i.hp||1,maxHp:i.maxHp||1,speed:i.speed||1,defense:0,skills:[],skillIds:i.skills.filter(e=>""!==e),description:i.description||"",score:i.score||0,profile:f||(It[r]?It[r].profile:"")},w=()=>["    ".concat(i.id||"new_character",": {"),"        id: '".concat(i.id||"","',"),"        name: '".concat(i.name||"","',"),"        role: '".concat(i.role||"","',"),"        hp: ".concat(i.hp||1,","),"        maxHp: ".concat(i.maxHp||1,","),"        speed: ".concat(i.speed||1,","),"        skills: [".concat(i.skills.map(e=>"'".concat(e,"'")).join(", "),"],"),"        description: '".concat((i.description||"").replace(/'/g,"\\'"),"',"),...i.profileFilename?["        profile: '/* IMPORT ".concat(i.profileFilename," */',")]:[],"        score: ".concat(i.score||0,","),"        evaluationTime: '".concat((new Date).toISOString(),"'"),"    }"].join("\n");return(0,g.jsx)("div",{className:"min-h-screen bg-stone-950 text-stone-200 p-8 flex flex-col font-serif",children:(0,g.jsxs)("div",{className:"max-w-4xl mx-auto w-full flex-1 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-stone-800",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)(v,{onClick:()=>{y&&!window.confirm("You have unsaved changes. Are you sure you want to exit?")||n()},icon:D,children:"BACK"}),(0,g.jsxs)("h1",{className:"text-3xl text-amber-500 font-bold flex items-center gap-4",style:{fontFamily:'"MedievalSharp", cursive'},children:["Character Editor",y&&(0,g.jsx)("span",{className:"text-sm text-red-500 font-sans tracking-tight",children:"*(Unsaved Changes)*"})]})]}),(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsx)(v,{onClick:()=>{y&&window.confirm("Revert all unsaved changes?")&&(s(l),d(!1))},icon:Kt,disabled:!y,className:y?"":"opacity-30 cursor-not-allowed",children:"UNDO"}),(0,g.jsx)(v,{onClick:()=>{c(i),It[i.id]=o(o(o({},It[i.id]||{}),i),{},{skills:[...i.skills],profile:f||(It[i.id]?It[i.id].profile:"")}),d(!1)},icon:h,disabled:!y,className:y?"bg-green-900/40 text-green-400 border-green-700 hover:bg-green-900/60 transition-colors":"opacity-30 cursor-not-allowed",children:"SAVE"}),(0,g.jsx)(v,{onClick:async()=>{const e=new(nn()),t=["import { Character } from '../models/Character';"],n=["export const CHARACTERS = {"];for(const[i,s]of Object.entries(It)){let r="";if(s.profile)if("string"===typeof s.profile&&s.profile.startsWith("data:image")){const n=s.profile.split(",")[1],a=s.profile.split(";")[0].match(/jpeg|png|gif/)[0]||"png";e.file("images/portraits/".concat(i,"_portrait.").concat(a),n,{base64:!0}),t.push("import ".concat(i,"Portrait from '../images/portraits/").concat(i,"_portrait.").concat(a,"';")),r="        profile: ".concat(i,"Portrait,")}else"string"===typeof s.profile&&(t.push("import ".concat(i,"Portrait from '../images/portraits/").concat(i,"_portrait.png';")),r="        profile: ".concat(i,"Portrait,"));n.push("    ".concat(i,": {")),n.push("        id: '".concat(s.id,"',")),n.push("        name: '".concat((s.name||"").replace(/'/g,"\\'"),"',")),s.role&&n.push("        role: '".concat(s.role,"',")),n.push("        hp: ".concat(s.hp||1,",")),n.push("        maxHp: ".concat(s.maxHp||1,",")),n.push("        speed: ".concat(s.speed||1,",")),s.skills&&n.push("        skills: [".concat(s.skills.map(e=>"'".concat(e,"'")).join(", "),"],")),s.description&&n.push("        description: '".concat(s.description.replace(/'/g,"\\'"),"',")),r&&n.push(r),void 0!==s.score&&n.push("        score: ".concat(s.score,",")),s.evaluationTime&&n.push("        evaluationTime: '".concat(s.evaluationTime,"'")),n.push("    },")}n.push("};"),n.push(""),n.push("export const getCharacter = (id) => {"),n.push("    const data = CHARACTERS[id];"),n.push("    if (!data) {"),n.push("        console.warn(`Character data for ${id} not found.`);"),n.push("        return null;"),n.push("    }"),n.push("    return new Character(data);"),n.push("};");const r="".concat(t.join("\n"),"\n\n").concat(n.join("\n"),"\n");e.file("characters.js",r);const a=await e.generateAsync({type:"blob"});(0,rn.saveAs)(a,"dragon_slayer_characters_export.zip")},icon:Yt,className:"bg-blue-900/40 text-blue-400 border-blue-700 hover:bg-blue-900/60",children:"DOWNLOAD"})]})]}),(0,g.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 flex-1 min-h-[500px]",children:[(0,g.jsxs)("div",{className:"md:w-2/3 flex flex-col space-y-6 bg-stone-900 border border-stone-800 p-6 rounded shadow-lg overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-amber-900 scrollbar-track-stone-900 h-full max-h-[70vh]",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Load Existing"}),(0,g.jsxs)("select",{value:r,onChange:e=>{y&&!window.confirm("You have unsaved changes. Change character anyway?")||a(e.target.value)},className:"w-full bg-stone-950 border border-stone-700 rounded p-2 text-stone-200 focus:border-amber-600 outline-none",children:[(0,g.jsx)("option",{value:"new",children:"-- New Character --"}),Object.values(It).map(e=>(0,g.jsxs)("option",{value:e.id,children:[e.name," (",e.id,")"]},e.id))]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"ID"}),(0,g.jsx)("input",{type:"text",name:"id",value:i.id,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none",placeholder:"e.g. arthur"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Name"}),(0,g.jsx)("input",{type:"text",name:"name",value:i.name,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none",placeholder:"e.g. King Arthur"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Role"}),(0,g.jsx)("input",{type:"text",name:"role",value:i.role,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none",placeholder:"e.g. Knight"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Score"}),(0,g.jsx)("input",{type:"number",step:"0.01",name:"score",value:i.score,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none"})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-4 border-t border-stone-800 pt-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"HP / Max HP"}),(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsx)("input",{type:"number",name:"hp",value:i.hp,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none"}),(0,g.jsx)("span",{className:"self-center",children:"/"}),(0,g.jsx)("input",{type:"number",name:"maxHp",value:i.maxHp,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Speed"}),(0,g.jsx)("input",{type:"number",name:"speed",value:i.speed,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none"})]})]}),(0,g.jsxs)("div",{className:"border-t border-stone-800 pt-4",children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-2 uppercase tracking-wider",children:"Skills"}),i.skills.map((e,t)=>(0,g.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,g.jsxs)("select",{value:e,onChange:e=>((e,t)=>{const n=[...i.skills];n[e]=t,s(e=>o(o({},e),{},{skills:n})),d(!1)})(t,e.target.value),className:"flex-1 bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none",children:[(0,g.jsx)("option",{value:"",children:"-- Select Skill --"}),Object.values(C).map(e=>(0,g.jsxs)("option",{value:e.id,children:[e.name," (",e.id,")"]},e.id))]}),(0,g.jsx)("button",{onClick:()=>(e=>{const t=[...i.skills];t.splice(e,1),s(e=>o(o({},e),{},{skills:t})),d(!1)})(t),className:"p-2 bg-red-900/30 text-red-500 hover:bg-red-900/50 rounded border border-red-900/50 transition-colors",children:(0,g.jsx)($t,{size:18})})]},t)),(0,g.jsxs)("button",{onClick:()=>{s(e=>o(o({},e),{},{skills:[...e.skills,""]})),d(!1)},className:"flex items-center gap-2 text-amber-500 hover:text-amber-400 text-sm mt-2 focus:outline-none",children:[(0,g.jsx)(Qt,{size:16})," ADD SKILL"]})]}),(0,g.jsxs)("div",{className:"border-t border-stone-800 pt-4",children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Description"}),(0,g.jsx)("textarea",{name:"description",value:i.description,onChange:x,className:"w-full bg-stone-950 border border-stone-700 rounded p-2 focus:border-amber-600 outline-none h-24 resize-none",placeholder:"Character description..."})]}),(0,g.jsxs)("div",{className:"border-t border-stone-800 pt-4",children:[(0,g.jsx)("label",{className:"block text-sm text-stone-400 mb-1 uppercase tracking-wider",children:"Portrait Image"}),(0,g.jsxs)("div",{className:"flex items-start gap-4 mt-2",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("label",{className:"flex items-center justify-center gap-2 w-full bg-stone-950 border border-stone-700 hover:border-amber-600 rounded p-4 cursor-pointer text-stone-400 hover:text-amber-500 transition-colors",children:[(0,g.jsx)(Xt,{size:20}),(0,g.jsx)("span",{children:"Select Image File"}),(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;b(""),s(e=>o(o({},e),{},{profileFilename:t.name})),d(!1);const n=new FileReader;n.onload=e=>{const t=e.target.result;p(t);const n=new Image;n.onload=()=>{const e=n.width/n.height;Math.abs(e-.8)>.05&&b("Warning: Image aspect ratio is ".concat(e.toFixed(2),". Recommended is 0.80 (4:5) for portraits."))},n.src=t},n.readAsDataURL(t)},className:"hidden"})]}),i.profileFilename&&(0,g.jsxs)("p",{className:"text-xs text-stone-500 mt-2 truncate",children:["File: ",i.profileFilename]}),m&&(0,g.jsxs)("div",{className:"mt-3 flex items-start gap-2 bg-yellow-900/20 border border-yellow-700/50 text-yellow-500 p-3 rounded text-sm",children:[(0,g.jsx)(ie,{size:16,className:"shrink-0 mt-0.5"}),(0,g.jsx)("p",{children:m})]})]}),f&&(0,g.jsx)("div",{className:"w-24 h-30 shrink-0 bg-stone-950 border border-stone-700 rounded overflow-hidden flex items-center justify-center",children:(0,g.jsx)("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"})})]})]})]}),(0,g.jsxs)("div",{className:"md:w-1/3 flex flex-col gap-4 h-full max-h-[70vh]",children:[(0,g.jsxs)("div",{className:"bg-stone-900 border border-stone-800 rounded p-4 flex flex-col items-center justify-center relative overflow-hidden shrink-0 shadow-lg",children:[(0,g.jsx)("h3",{className:"text-amber-500 font-bold uppercase tracking-wider text-sm mb-4 self-start",children:"Live Preview"}),(0,g.jsx)("div",{className:"transform scale-[0.8] origin-top h-[25.6rem]",children:(0,g.jsx)(T,{char:_,isSelected:!0,isActive:!1,isTargetable:!1})})]}),(0,g.jsxs)("div",{className:"bg-stone-900 border border-stone-800 rounded p-4 flex-1 flex flex-col min-h-[200px]",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsx)("h3",{className:"text-amber-500 font-bold uppercase tracking-wider text-sm",children:"Generated Code"}),(0,g.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(w()),d(!0),setTimeout(()=>d(!1),2e3)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ".concat(u?"bg-green-900/50 text-green-400 border border-green-700":"bg-stone-800 text-stone-300 hover:bg-stone-700 border border-stone-700"),children:[u?(0,g.jsx)(Jt,{size:14}):(0,g.jsx)(en,{size:14}),u?"COPIED":"COPY"]})]}),(0,g.jsx)("pre",{className:"flex-1 bg-stone-950 p-4 rounded overflow-y-auto text-xs text-stone-300 border border-stone-800 font-mono",children:(0,g.jsx)("code",{children:w()})})]})]})]})]})})};class on{static createInitialState(){const e=Pt.PLAYER.roster.map(e=>Dt(e)),t=[new Bt,new Ut,new Ht,new Bt,new Ut];return{level:1,gold:100,lastEventLevel:0,roster:e,activeTeam:[...Pt.PLAYER.initialTeam],inventory:t,castleFacilities:{mainHall:{level:1},expeditionOffice:{level:1}},economy:new X}}static processVictory(e){const t=X.processVictory(e.economy);return o(o({},e),{},{level:e.level+1,gold:e.gold+50,economy:t})}static processDefeat(e){return e}}const ln=n.p+"static/media/cursor.e48e5722ebe67aaa55c6.png";function cn(){const[t,n]=(0,e.useState)(0),[r,a]=(0,e.useState)(null);(0,e.useEffect)(()=>{r&&0!==t&&Vt.save(r)},[r,t]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("style",{children:"\n          @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=MedievalSharp&display=swap');\n          \n          @keyframes float { 0% { transform: translateY(0); opacity: 0; } 50% { opacity: 0.8; } 100% { transform: translateY(-40px); opacity: 0; } }\n          .animate-float { animation: float linear infinite; }\n          \n          @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n          .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }\n\n          @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }\n          .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }\n\n          @keyframes bounce { 0%, 100% { transform: translateY(-10%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); } 50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); } }\n          .animate-bounce { animation: bounce 1s infinite; }\n\n          /* Custom Cursor Logic */\n          /* Apply to the container and all children to override specific element defaults */\n          .cursor-medieval, .cursor-medieval * {\n            cursor: url('".concat(ln,"'), auto !important;\n          }\n\n          /* Ensure the cursor persists when clicking (active state) */\n          .cursor-medieval:active, .cursor-medieval *:active {\n            cursor: url('").concat(ln,"'), auto !important;\n          }\n          \n          /* Specifically target buttons to prevent the browser 'hand' cursor from overriding our custom one */\n          button, [role=\"button\"] {\n             cursor: url('").concat(ln,"'), pointer !important;\n          }\n        ")}),(0,g.jsxs)("div",{className:"cursor-medieval font-sans antialiased bg-stone-950 min-h-screen selection:bg-amber-900 selection:text-amber-100 text-stone-200",children:[0===t&&(0,g.jsx)(b,{onStartGame:()=>{Vt.clearSave();const e=on.createInitialState();a(e),n(1)},onLoadGame:()=>{const e=Vt.load();e?(a(e),n(1)):alert("Failed to load save data.")},hasSave:Vt.hasSave(),onLegacy:()=>{},onEditor:()=>{n(3)}}),1===t&&(0,g.jsx)(ue,{gameState:r,setGameState:a,onEmbark:()=>{n(2)}}),2===t&&(0,g.jsx)(Zt,{gameState:r,onWin:()=>{alert("Victory! Returning to Castle..."),a(e=>on.processVictory(e)),n(1)},onLose:()=>{alert("Defeat... The expedition is lost."),a(e=>on.processDefeat(e)),Vt.clearSave(),n(0)}}),3===t&&(0,g.jsx)(sn,{onBack:()=>n(0)})]})]})}t.createRoot(document.getElementById("root")).render((0,g.jsx)(e.StrictMode,{children:(0,g.jsx)(cn,{})}))})()})();
//# sourceMappingURL=main.4a28de0a.js.map